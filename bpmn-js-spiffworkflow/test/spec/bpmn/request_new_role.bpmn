<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:spiffworkflow="http://spiffworkflow.org/bpmn/schema/1.0/core" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1uze7zy" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.10.0" modeler:executionPlatform="Camunda Platform">
  <bpmn:collaboration id="Collaboration_1q2gp80">
    <bpmn:participant id="Participant_1y5mafy" processRef="Request_New_Role" />
  </bpmn:collaboration>
  <bpmn:process id="Request_New_Role" name="Request New Role" isExecutable="true">
    <bpmn:laneSet id="LaneSet_0r9d1aa">
      <bpmn:lane id="Lane_0zrdvut" name="Project Lead">
        <bpmn:flowNodeRef>Gateway_1bz36qs</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1ci8c4i</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_15gc86r</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1lr6j50</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0dvdlwh</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0gpvfm8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0z3562z</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_05solt4</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_05ou4v1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1vw9byu</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0o5rhui</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1e64lzx</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1dpvgq0</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_098npnd" name="Head of PeopleOps">
        <bpmn:flowNodeRef>Activity_0h7ft7p</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0ip2pbu</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0apmo1t</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0adfss7</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_00bqo01</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0y9evi0" name="PeopleOps (Talent)">
        <bpmn:flowNodeRef>Activity_04ium7h</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_09pngbv</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0sn0ht7" name="Finance">
        <bpmn:flowNodeRef>Event_14e2or3</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1el69ef</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0cac2ge</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="Flow_0ykcl03" />
    <bpmn:dataObjectReference id="DataObjectReference_0vie2hs" />
    <bpmn:dataObjectReference id="DataObjectReference_1ijzld5" />
    <bpmn:exclusiveGateway id="Gateway_1bz36qs">
      <bpmn:incoming>Flow_1rpyrgl</bpmn:incoming>
      <bpmn:incoming>Flow_0m414q7</bpmn:incoming>
      <bpmn:outgoing>Flow_154casc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1ci8c4i" name="RequestÂ  Cancelled?" default="Flow_0xz0rte">
      <bpmn:incoming>Flow_1gpngr0</bpmn:incoming>
      <bpmn:outgoing>Flow_1g8h223</bpmn:outgoing>
      <bpmn:outgoing>Flow_0xz0rte</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:startEvent id="Event_15gc86r">
      <bpmn:outgoing>Flow_1awy4f9</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:endEvent id="Event_1lr6j50">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser>Process Recap
---
The request has been cancelled and will be removed from Instances waiting on you.

**Status**: {{ trvl_details["status"] }}

**Requestor**: {{ trvl_details["requestor"] }} </spiffworkflow:instructionsForEndUser>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1g8h223</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="Gateway_0dvdlwh" name="L2 Budget Owner Requested Additional Information or Rejected" default="Flow_0dxc4uz">
      <bpmn:incoming>Flow_1ieb889</bpmn:incoming>
      <bpmn:outgoing>Flow_0dxc4uz</bpmn:outgoing>
      <bpmn:outgoing>Flow_1r7byc8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_0gpvfm8" name="Reviewer Requested Additional Information?" default="Flow_0mi1iph">
      <bpmn:incoming>Flow_0idzytl</bpmn:incoming>
      <bpmn:outgoing>Flow_0m414q7</bpmn:outgoing>
      <bpmn:outgoing>Flow_0mi1iph</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_0z3562z">
      <bpmn:incoming>Flow_1r7byc8</bpmn:incoming>
      <bpmn:incoming>Flow_1hb6m2j</bpmn:incoming>
      <bpmn:outgoing>Flow_1svj7af</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="Activity_05solt4" name="Set Approval Variables">
      <bpmn:incoming>Flow_0xz0rte</bpmn:incoming>
      <bpmn:outgoing>Flow_0nom5oy</bpmn:outgoing>
      <bpmn:script># Set/Clear Last Approval Outcome
last_approval_outcome = ""

# Set Approval Type Agnostic Requestor Authentication Username
requestor_username = trvl_details["requestor_auth_username"]
cc_requested_for_username = trvl_details["core_contributor_work_email"]

# Set variables for Waku messages
waku_msg_project = trvl_details["project_name"]
waku_msg_category = trvl_details["category_name"]
waku_msg_total_amount = trvl_details["total_request_amount_usd"]
waku_msg_criticality = trvl_details["criticality"]
waku_msg_requestor = trvl_details["requestor"]

# Delete Unneeded variables
del(is_request_cancelled)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:callActivity id="Activity_05ou4v1" name="Get Program Lead/Service Lead Review" calledElement="Budget_Owner_Approval">
      <bpmn:extensionElements>
        <spiffworkflow:preScript># Set Current Role
current_approver_role = "Budget Owner"

# Set Current Requestor Bamboo API ID
requestor_bamboo_eid = trvl_details["requestor_bamboo_eid"]</spiffworkflow:preScript>
        <spiffworkflow:postScript># Clear Last Approval Role
del(current_approver_role)

# Resat Feviewer Outcome
reviewer_outcome = ""</spiffworkflow:postScript>
        <spiffworkflow:instructionsForEndUser />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0nom5oy</bpmn:incoming>
      <bpmn:outgoing>Flow_1ieb889</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:callActivity id="Activity_1vw9byu" name="Get PPG Review" calledElement="SMEs_Approval">
      <bpmn:extensionElements>
        <spiffworkflow:preScript># Set Current Role
current_approver_role = "PeopleOps Partner"

# Default Escalation to Budget Owner to False
is_escalate = False</spiffworkflow:preScript>
        <spiffworkflow:postScript># Clear Last Approval Role
del(current_approver_role)

# Resat Feviewer Outcome
reviewer_outcome = ""</spiffworkflow:postScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0dxc4uz</bpmn:incoming>
      <bpmn:outgoing>Flow_1hb6m2j</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:subProcess id="Activity_0o5rhui" name="Get Process Start Info">
      <bpmn:incoming>Flow_1awy4f9</bpmn:incoming>
      <bpmn:outgoing>Flow_1rpyrgl</bpmn:outgoing>
      <bpmn:callActivity id="Activity_0qz7ws8" name="Call Start Event" calledElement="SR-Start_Process">
        <bpmn:extensionElements>
          <spiffworkflow:preScript />
          <spiffworkflow:postScript />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1k6ur0k</bpmn:incoming>
        <bpmn:outgoing>Flow_0c9yzka</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:startEvent id="Event_0usinvv">
        <bpmn:outgoing>Flow_1k6ur0k</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_0c9yzka" sourceRef="Activity_0qz7ws8" targetRef="Activity_0b2sysj" />
      <bpmn:scriptTask id="Activity_0b2sysj" name="Set Process Start Variables">
        <bpmn:extensionElements>
          <spiffworkflow:instructionsForEndUser />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0c9yzka</bpmn:incoming>
        <bpmn:outgoing>Flow_1n7gshu</bpmn:outgoing>
        <bpmn:script># Create Details Dictionary
trvl_details = {}

# Set Requestor First, Last and Preferred Names
trvl_details["requestor_first_name"] = bamboo_get_employee["firstName"]
trvl_details["requestor_last_name"] = bamboo_get_employee["lastName"]
trvl_details["requestor_preferred_name"] = bamboo_get_employee["preferredName"]

# Set Requestor Full and Greet Names
if bamboo_get_employee["preferredName"] is None:
    trvl_details["requestor"] = bamboo_get_employee["firstName"] + " " + bamboo_get_employee["lastName"]
    trvl_details["requestor_greet_name"] = bamboo_get_employee["firstName"]

else:
    trvl_details["requestor"] = bamboo_get_employee["preferredName"] + " " + bamboo_get_employee["lastName"]
    trvl_details["requestor_greet_name"] = bamboo_get_employee["preferredName"]

# Set Approval Source Agnostic Requestor Greet Name
requestor_greet_name = trvl_details["requestor_greet_name"]

# Set Requestor Ids
trvl_details["requestor_status_key"] = bamboo_get_employee["customStatusPublicKey"]
trvl_details["requestor_bamboo_eid"] = bamboo_get_employee["id"]
trvl_details["requestor_auth_username"] = auth_user_info["username"]

# Set Default Core Contributor Request is for to Requestor
# trvl_details["core_contributor_test"] = r'{\"id\":\"' + trvl_details["requestor_bamboo_eid"] + r'\",\"last_name\":\"' + trvl_details["requestor_last_name"] + r'\",\"first_name\":\"' + trvl_details["requestor_first_name"] + r'\"}'
req_as_cc = {}
req_as_cc["id"] = trvl_details["requestor_bamboo_eid"]
req_as_cc["last_name"] = trvl_details["requestor_last_name"]
if bamboo_get_employee["preferredName"] is None:
    req_as_cc["first_name"] = trvl_details["requestor_first_name"]
else:
    req_as_cc["first_name"] = trvl_details["requestor_first_name"] + " (" + trvl_details["requestor_preferred_name"] + ")"
req_as_cc["workEmail"] = bamboo_get_employee["workEmail"]

trvl_details["core_contributor"] = json.dumps(req_as_cc)

# Delete Unneeded Variables
del( bamboo_get_employee)
del(auth_user_info)

# Initialize Approver List
approvers = []

# Initialize Approval History
approval_history = []

# Set Approveal Source
approval_source = "TRVL"

# Set Reviewer Comments List
review_comment_list = []
review_comment_cnt = 0

# Set Defalt reviewer Comment
nai_reviewer_comment = {}
nai_reviewer_comment["Reviewer Comment"] = ""

# Set Frontend URLs
prod_frontend_url = "https://prod.mod.spiff.status.im"

# Add additional variables
is_additional_information = False
is_supporting_files = False
is_supporting_information = False
requestor_edit_option = False
non_book_check_cnt = 0
last_approval_outcome = ""</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:endEvent id="Event_1w945s1">
        <bpmn:incoming>Flow_1n7gshu</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1n7gshu" sourceRef="Activity_0b2sysj" targetRef="Event_1w945s1" />
      <bpmn:sequenceFlow id="Flow_1k6ur0k" sourceRef="Event_0usinvv" targetRef="Activity_0qz7ws8" />
    </bpmn:subProcess>
    <bpmn:subProcess id="Activity_1e64lzx" name="Get Requestor Input">
      <bpmn:extensionElements>
        <spiffworkflow:postScript># Delete Unneeded Variables
del(travel_sub_category_enum_list)
del(currency_type_enum_list)
del(currency_enum_list)
del(dept_enum_list)
del(category_enum_list)
del(event_type_enum_list)</spiffworkflow:postScript>
        <spiffworkflow:preScript># Initiate Request Cancelled to False
is_request_cancelled = False</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_154casc</bpmn:incoming>
      <bpmn:outgoing>Flow_1gpngr0</bpmn:outgoing>
      <bpmn:subProcess id="Activity_0hvo4b0" name="Fetch Data for the form">
        <bpmn:incoming>Flow_13sdhgh</bpmn:incoming>
        <bpmn:outgoing>Flow_0fhz1yp</bpmn:outgoing>
        <bpmn:startEvent id="Event_1jl5nuj">
          <bpmn:outgoing>Flow_0rt9rpn</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:parallelGateway id="Gateway_1isv7ud">
          <bpmn:incoming>Flow_0rt9rpn</bpmn:incoming>
          <bpmn:outgoing>Flow_1yboqgc</bpmn:outgoing>
          <bpmn:outgoing>Flow_1regjqs</bpmn:outgoing>
          <bpmn:outgoing>Flow_0ijiqtp</bpmn:outgoing>
          <bpmn:outgoing>Flow_1lvqe7v</bpmn:outgoing>
          <bpmn:outgoing>Flow_0org7jx</bpmn:outgoing>
          <bpmn:outgoing>Flow_1e8hadk</bpmn:outgoing>
        </bpmn:parallelGateway>
        <bpmn:parallelGateway id="Gateway_1t884cz">
          <bpmn:incoming>Flow_0rydcxn</bpmn:incoming>
          <bpmn:incoming>Flow_1ihkyvi</bpmn:incoming>
          <bpmn:incoming>Flow_0zaclsu</bpmn:incoming>
          <bpmn:incoming>Flow_0h3piq7</bpmn:incoming>
          <bpmn:incoming>Flow_1dcxvqq</bpmn:incoming>
          <bpmn:incoming>Flow_18n2gwv</bpmn:incoming>
          <bpmn:outgoing>Flow_0n82r7f</bpmn:outgoing>
        </bpmn:parallelGateway>
        <bpmn:callActivity id="Activity_0wmyrc9" name="Get BBHR Depart/Program Enum List" calledElement="Which_Bamboo_Depart_Div_Data">
          <bpmn:documentation>Get Form Data Call Activity is used for getting required data for User Tasks.</bpmn:documentation>
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Task Name
which_bamboo_depart_div_data_rule = "Department Enum List"</spiffworkflow:preScript>
            <spiffworkflow:postScript># Exclude non-Project departments
dept_enum_list = [x for x in dept_enum_list if x["value"] not in ["18589","19125","19068","19110","19111","19126","19032","18737","19004","19147","19009","19033","19115"]]

del(which_bamboo_depart_div_data_rule)</spiffworkflow:postScript>
            <spiffworkflow:instructionsForEndUser>Loading Projects from Bamboo</spiffworkflow:instructionsForEndUser>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_1yboqgc</bpmn:incoming>
          <bpmn:outgoing>Flow_0rydcxn</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:sequenceFlow id="Flow_1yboqgc" sourceRef="Gateway_1isv7ud" targetRef="Activity_0wmyrc9" />
        <bpmn:sequenceFlow id="Flow_1regjqs" sourceRef="Gateway_1isv7ud" targetRef="Activity_0qnslox" />
        <bpmn:sequenceFlow id="Flow_0rydcxn" sourceRef="Activity_0wmyrc9" targetRef="Gateway_1t884cz" />
        <bpmn:sequenceFlow id="Flow_1ihkyvi" sourceRef="Activity_1m37c8d" targetRef="Gateway_1t884cz" />
        <bpmn:callActivity id="Activity_0qnslox" name="Get Sub-Category Enumeration List" calledElement="SR_Build_Enum_List">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Enum List Parameters
whichSubject = "Sub-Category"
whichGrouping = "travel"
addNew = False
addBlank = False</spiffworkflow:preScript>
            <spiffworkflow:postScript># Copy to Category Enum List
travel_sub_category_enum_list = enumerations_list

# Remove Meals Sub-category
travel_sub_category_enum_list = [x for x in travel_sub_category_enum_list if x["value"] != "meals"]

# Delete generic list
del(enumerations_list)
del(whichSubject)
del(whichGrouping)
del(addNew)
del(addBlank)</spiffworkflow:postScript>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_1regjqs</bpmn:incoming>
          <bpmn:outgoing>Flow_0zaclsu</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:sequenceFlow id="Flow_0ijiqtp" sourceRef="Gateway_1isv7ud" targetRef="Activity_1m37c8d" />
        <bpmn:sequenceFlow id="Flow_0zaclsu" sourceRef="Activity_0qnslox" targetRef="Gateway_1t884cz" />
        <bpmn:endEvent id="Event_0cgqh09">
          <bpmn:incoming>Flow_1m73brt</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:scriptTask id="Activity_0zp7u0c" name="Set Currency Type Enum List">
          <bpmn:incoming>Flow_0n82r7f</bpmn:incoming>
          <bpmn:outgoing>Flow_1m73brt</bpmn:outgoing>
          <bpmn:script># Set Currency Type Enum List
currency_type_enum_list = [
    {
      "label": "Crypto",
      "value": "crypto"
    },
    {
      "label": "Fiat",
      "value": "fiat"
    }
]

no_budget_owners_proceed = ""

# Set Travel Category Enum List
category_enum_list = [
    {
      "label": "Travel",
      "value": "travel"
    }
]</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow id="Flow_1m73brt" sourceRef="Activity_0zp7u0c" targetRef="Event_0cgqh09" />
        <bpmn:sequenceFlow id="Flow_0n82r7f" sourceRef="Gateway_1t884cz" targetRef="Activity_0zp7u0c" />
        <bpmn:callActivity id="Activity_1nkf8ap" name="Get Type of Hire Enum List" calledElement="SR_Build_Enum_List">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Enum List Parameters
whichSubject = "Event Type"
whichGrouping = ""
addNew = False
addBlank = False</spiffworkflow:preScript>
            <spiffworkflow:postScript># Copy to Category Enum List
event_type_enum_list = enumerations_list

# Delete generic list
del(enumerations_list)
del(whichSubject)
del(whichGrouping)
del(addNew)
del(addBlank)</spiffworkflow:postScript>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_1lvqe7v</bpmn:incoming>
          <bpmn:outgoing>Flow_0h3piq7</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:sequenceFlow id="Flow_1lvqe7v" sourceRef="Gateway_1isv7ud" targetRef="Activity_1nkf8ap" />
        <bpmn:sequenceFlow id="Flow_0h3piq7" sourceRef="Activity_1nkf8ap" targetRef="Gateway_1t884cz" />
        <bpmn:sequenceFlow id="Flow_0rt9rpn" sourceRef="Event_1jl5nuj" targetRef="Gateway_1isv7ud" />
        <bpmn:scriptTask id="Activity_1d9wb5g" name="Create Currencies Enum List">
          <bpmn:script>currency_enum_list = [
    {
      "label": "United Arab Emirates Dirham (AED)",
      "value": "AED"
    },
    {
      "label": "Australian Dollar (AUD)",
      "value": "AUD"
    },
    {
      "label": "Canadian Dollar (CAD)",
      "value": "CAD"
    },
    {
      "label": "Swiss Franc (CHF)",
      "value": "CHF"
    },
    {
      "label": "Chinese Yuan (CNY)",
      "value": "CNY"
    },
    {
      "label": "Colombian Peso (COP)",
      "value": "COP"
    },
    {
      "label": "Euro (EUR)",
      "value": "EUR"
    },
    {
      "label": "British Pound (GBP)",
      "value": "GBP"
    },
    {
      "label": "Hong Kong Dollar (HKD)",
      "value": "HKD"
    },
    {
      "label": "Japanese Yen (JPY)",
      "value": "JPY"
    },
    {
      "label": "New Zealand Dollar (NZD)",
      "value": "NZD"
    },
    {
      "label": "Singapore Dollar (SGD)",
      "value": "SGD"
    },
    {
      "label": "United States Dollar (USD)",
      "value": "USD"
    }
 ]</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:callActivity id="Activity_1m37c8d" name="Get Xero Currencies Enum List" calledElement="Set_Xero_Currencies_Enum_List">
          <bpmn:extensionElements>
            <spiffworkflow:instructionsForEndUser>Loading currencies from Xero</spiffworkflow:instructionsForEndUser>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_0ijiqtp</bpmn:incoming>
          <bpmn:outgoing>Flow_1ihkyvi</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:callActivity id="Activity_0yx3jct" name="Get Job Title Enum list" calledElement="SR_Build_Enum_List">
          <bpmn:incoming>Flow_0org7jx</bpmn:incoming>
          <bpmn:outgoing>Flow_1dcxvqq</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:callActivity id="Activity_1l4smn2" name="Get Levels" calledElement="SR_Build_Enum_List">
          <bpmn:incoming>Flow_1e8hadk</bpmn:incoming>
          <bpmn:outgoing>Flow_18n2gwv</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:sequenceFlow id="Flow_0org7jx" sourceRef="Gateway_1isv7ud" targetRef="Activity_0yx3jct" />
        <bpmn:sequenceFlow id="Flow_1dcxvqq" sourceRef="Activity_0yx3jct" targetRef="Gateway_1t884cz" />
        <bpmn:sequenceFlow id="Flow_1e8hadk" sourceRef="Gateway_1isv7ud" targetRef="Activity_1l4smn2" />
        <bpmn:sequenceFlow id="Flow_18n2gwv" sourceRef="Activity_1l4smn2" targetRef="Gateway_1t884cz" />
        <bpmn:association id="Association_1xjz4dg" sourceRef="TextAnnotation_12xpps4" targetRef="Activity_0wmyrc9" />
        <bpmn:textAnnotation id="TextAnnotation_12xpps4">
          <bpmn:text>Departments, Divisions</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:textAnnotation id="TextAnnotation_1y6yhqk">
          <bpmn:text>temp fix</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_08748uw" sourceRef="Activity_1d9wb5g" targetRef="TextAnnotation_1y6yhqk" />
        <bpmn:textAnnotation id="TextAnnotation_14s9ahr">
          <bpmn:text>Create a list of Programs, list of Projects</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_0lar293" sourceRef="Activity_0wmyrc9" targetRef="TextAnnotation_14s9ahr" />
        <bpmn:textAnnotation id="TextAnnotation_15ydtha">
          <bpmn:text>PostgresDB or Spiff?</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_1rrh0x7" sourceRef="Activity_0yx3jct" targetRef="TextAnnotation_15ydtha" />
        <bpmn:textAnnotation id="TextAnnotation_0bljl73">
          <bpmn:text>Talent Level Guidance - to make it a step within the process</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_1yp9m84" sourceRef="Activity_1l4smn2" targetRef="TextAnnotation_0bljl73" />
        <bpmn:textAnnotation id="TextAnnotation_0m29l6w">
          <bpmn:text>Suggest it will be hard-coded in process model</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_1yhba4x" sourceRef="Activity_1nkf8ap" targetRef="TextAnnotation_0m29l6w" />
        <bpmn:textAnnotation id="TextAnnotation_0ki3646">
          <bpmn:text>Connect to MercerDB?</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_0i97f34" sourceRef="Activity_1l4smn2" targetRef="TextAnnotation_0ki3646" />
        <bpmn:textAnnotation id="TextAnnotation_0ik9n73">
          <bpmn:text>Can we use a spreadsheet as a source of truth?</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_0ekghho" sourceRef="Activity_1l4smn2" targetRef="TextAnnotation_0ik9n73" />
      </bpmn:subProcess>
      <bpmn:exclusiveGateway id="Gateway_0inv03y">
        <bpmn:incoming>Flow_0fhz1yp</bpmn:incoming>
        <bpmn:incoming>Flow_1e5xai6</bpmn:incoming>
        <bpmn:incoming>Flow_1w54t94</bpmn:incoming>
        <bpmn:outgoing>Flow_0dgrlbd</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:intermediateThrowEvent id="Event_0i4eq27" name="Request Cancelled Due To No Budget Owners">
        <bpmn:incoming>Flow_0zen0hg</bpmn:incoming>
        <bpmn:outgoing>Flow_1wk4ctc</bpmn:outgoing>
      </bpmn:intermediateThrowEvent>
      <bpmn:intermediateThrowEvent id="Event_13ueqho" name="Request Cancelled by Requestor">
        <bpmn:incoming>Flow_1uda7lq</bpmn:incoming>
        <bpmn:outgoing>Flow_1b7wncj</bpmn:outgoing>
      </bpmn:intermediateThrowEvent>
      <bpmn:intermediateThrowEvent id="Event_0cqzojf" name="Request is SUBMITTED">
        <bpmn:incoming>Flow_18911q5</bpmn:incoming>
        <bpmn:outgoing>Flow_1wixb6f</bpmn:outgoing>
      </bpmn:intermediateThrowEvent>
      <bpmn:sequenceFlow id="Flow_0fhz1yp" sourceRef="Activity_0hvo4b0" targetRef="Gateway_0inv03y" />
      <bpmn:startEvent id="Event_04yq5uq">
        <bpmn:outgoing>Flow_13sdhgh</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_13sdhgh" sourceRef="Event_04yq5uq" targetRef="Activity_0hvo4b0" />
      <bpmn:endEvent id="Event_1n7x8l3">
        <bpmn:extensionElements>
          <spiffworkflow:instructionsForEndUser />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_17xdzln</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1wixb6f" sourceRef="Event_0cqzojf" targetRef="Gateway_0fpx9dv" />
      <bpmn:exclusiveGateway id="Gateway_0fpx9dv">
        <bpmn:incoming>Flow_1wixb6f</bpmn:incoming>
        <bpmn:incoming>Flow_0zb8ksl</bpmn:incoming>
        <bpmn:outgoing>Flow_17xdzln</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_17xdzln" sourceRef="Gateway_0fpx9dv" targetRef="Event_1n7x8l3" />
      <bpmn:scriptTask id="Activity_0w08hid" name="Set cancellation variable">
        <bpmn:incoming>Flow_0gs9a10</bpmn:incoming>
        <bpmn:outgoing>Flow_0zb8ksl</bpmn:outgoing>
        <bpmn:script># Set Request to Cancelled
is_request_cancelled = True

# Set Final Status to Cancelled
trvl_details["status"] = "Cancelled"</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_0zb8ksl" sourceRef="Activity_0w08hid" targetRef="Gateway_0fpx9dv" />
      <bpmn:userTask id="Activity_0qq1v3z" name="Submit Details">
        <bpmn:documentation>**Figma - New Demand request (Procurement) - SUBMIT**, https://www.figma.com/file/9NP2BUoLuwHUCGStvDMgOw/Form?node-id=0%3A1&amp;t=BABeo58RkNviJr4N-0

**Fields details** - https://docs.google.com/spreadsheets/d/19S85IJeNXffPa1oAe6kSkmTleMWE92A4kWJFFodCEZU/edit#gid=1736626389</bpmn:documentation>
        <bpmn:extensionElements>
          <spiffworkflow:properties>
            <spiffworkflow:property name="formJsonSchemaFilename" value="submit_travel_details_items-schema.json" />
            <spiffworkflow:property name="formUiSchemaFilename" value="submit_travel_details_items-uischema.json" />
          </spiffworkflow:properties>
          <spiffworkflow:instructionsForEndUser>---
Please ensure to provide all the necessary details regarding your travel request. These details are crucial for the Project Leads and PeopleOps Partners to review your request and make the necessary arrangements.

If you need guidance on the travel policy, it may be helpful to check &lt;a href="https://contributors.status.im/contributing-to-status/travelling-for-status.html" target="_blank" &gt;Contributors Guide&lt;/a&gt;.

To get an overview of the process, you can check the process model or read  &lt;a href="https://www.notion.so/Request-Travel-06db3450784e4320adb425688d8dbe3f?pvs=4" target="_blank" &gt;Process Description&lt;/a&gt;.

---

{% if is_additional_information %}
### Reviewer Additional Information Request 

| Requested by  | &lt;div style="width:90px"&gt;Date&lt;div&gt; | &lt;div style="width:65px"&gt;Time&lt;div&gt; | Additional Information Requested |
| ----------------- | ----- | ----- | -------------------------------------- |
| {{ nai_reviewer_comment["Reviewer Role"] }} | {{ nai_reviewer_comment["Reviewer Comment Date"] }} | {{ nai_reviewer_comment["Reviewer Comment Time"] }} | {{ nai_reviewer_comment["Reviewer Comment"] }} |


---

{% endif %}</spiffworkflow:instructionsForEndUser>
          <spiffworkflow:postScript># Get Frontend URL
frontend_url = get_frontend_url()

# Set BO check variable
budget_owner_check = trvl_details["project"]

# Get Project Label
temp_project_name = [x["label"] for x in dept_enum_list if x["value"] == trvl_details["project"]]
trvl_details["project_name"] = temp_project_name[0]
del(temp_project_name)

# Get Category Label
temp_category_name = [x["label"] for x in category_enum_list if x["value"] == trvl_details["category"]]
trvl_details["category_name"] = temp_category_name[0]
del(temp_category_name)

# Get Event Type Label
temp_event_type_name = [x["label"] for x in event_type_enum_list if x["value"] == trvl_details["event_type"]]
trvl_details["event_type_name"] = temp_event_type_name[0]
del(temp_event_type_name)

# Set Period (Event Date) Display Date Format
trvl_details["period_display"] = trvl_details["period"][8:10] + "-" + trvl_details["period"][5:7] + "-" + trvl_details["period"][:4]

# Remove any linefeeds from from Purpose
purpose_double = trvl_details["purpose"]
purpose_single = purpose_double.replace("\n\n", " ")
purpose_removed = purpose_single.replace("\n", " ")
trvl_details["purpose"] = purpose_removed
del(purpose_double)
del(purpose_single)
del(purpose_removed)

# Set Period (Start Date) Display Date Format
trvl_details["start_date_display"] = trvl_details["start_date"][8:10] + "-" + trvl_details["start_date"][5:7] + "-" + trvl_details["start_date"][:4]

# Set Period (End Date) Display Date Format
trvl_details["end_date_display"] = trvl_details["end_date"][8:10] + "-" + trvl_details["end_date"][5:7] + "-" + trvl_details["end_date"][:4]

# Get Frontend URL
frontend_url = get_frontend_url()

# Set BO check variable
budget_owner_check = trvl_details["project"]

# Set Edit Option to True
requestor_edit_option = True

# Set Event Destination Display
csc_json_string_event = trvl_details["event_destination"]
csc_dict_event = json.loads(csc_json_string_event)
city_event = csc_dict_event["name"]
state_event = csc_dict_event["state"]
country_event = csc_dict_event["country"]
trvl_details["event_destination_display"] = city_event + " (" + state_event + ", " + country_event + ")"

# Set Departure From Display
csc_json_string_dep = trvl_details["departure_from"]
csc_dict_dep = json.loads(csc_json_string_dep)
city_dep = csc_dict_dep["name"]
state_dep = csc_dict_dep["state"]
country_dep = csc_dict_dep["country"]
trvl_details["departure_from_display"] = city_dep + " (" + state_dep + ", " + country_dep + ")"

# Set Return To Display
csc_json_string_ret = trvl_details["return_to"]
csc_dict_ret = json.loads(csc_json_string_ret)
city_ret = csc_dict_ret["name"]
state_ret = csc_dict_ret["state"]
country_ret = csc_dict_ret["country"]
trvl_details["return_to_display"] = city_ret + " (" + state_ret + ", " + country_ret + ")"

# Set Core Contributor Values and Display
csc_json_string_cc = trvl_details["core_contributor"]
csc_dict_cc = json.loads(csc_json_string_cc)
last_name_cc = csc_dict_cc["last_name"]
first_name_cc = csc_dict_cc["first_name"]
trvl_details["core_contributor_display"] = first_name_cc + " " + last_name_cc
trvl_details["core_contributor_id"] = csc_dict_cc["id"]
trvl_details["core_contributor_work_email"] = csc_dict_cc["workEmail"]

# Set Visa display - Replace True or False with actual value
trvl_details["visa_display"] = ""
if trvl_details["visa"] == True:
    trvl_details["visa_display"] = "Yes"
else:
    trvl_details["visa_display"] = "No"

del(city_event)
del(state_event)
del(country_event)
del(csc_dict_event)
del(csc_json_string_event)
del(city_dep)
del(state_dep)
del(country_dep)
del(csc_dict_dep)
del(csc_json_string_dep)
del(city_ret)
del(state_ret)
del(country_ret)
del(csc_dict_ret)
del(csc_json_string_ret)
del(csc_json_string_cc)
del(csc_dict_cc)
del(last_name_cc)
del(first_name_cc)</spiffworkflow:postScript>
          <spiffworkflow:preScript />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1sx4un4</bpmn:incoming>
        <bpmn:outgoing>Flow_0xus3om</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:exclusiveGateway id="Gateway_0ya0v1p" name="Production Environment?" default="Flow_0ch4cxy">
        <bpmn:incoming>Flow_0xus3om</bpmn:incoming>
        <bpmn:outgoing>Flow_0ch4cxy</bpmn:outgoing>
        <bpmn:outgoing>Flow_0op21ag</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:callActivity id="Activity_00z3wwk" name="Get Prod Budget Owners" calledElement="AS-Budget_Owner_Approvers-Prod">
        <bpmn:extensionElements>
          <spiffworkflow:postScript># Delete Unneeded Variable
del(frontend_url)</spiffworkflow:postScript>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0op21ag</bpmn:incoming>
        <bpmn:outgoing>Flow_119j0el</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:callActivity id="Activity_0cjtlcn" name="Get non-Prod Budget Owners" calledElement="AS-Budget_Owner_Approvers-Non-Prod">
        <bpmn:extensionElements>
          <spiffworkflow:postScript># Delete Unneeded Variable
del(frontend_url)</spiffworkflow:postScript>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0ch4cxy</bpmn:incoming>
        <bpmn:outgoing>Flow_18qe7ut</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:subProcess id="Activity_1b0myha" name="Do Currency Conversion and Get Totals">
        <bpmn:incoming>Flow_05hzfur</bpmn:incoming>
        <bpmn:outgoing>Flow_1whl6cg</bpmn:outgoing>
        <bpmn:callActivity id="Activity_1km8pud" name="Get Xe Currency Conversion" calledElement="Xe_ConvertFrom">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Xe Conversion Parameters
xe_convert_from_currency = trvl_details["item"][item_list_cnt]["currency"]
xe_convert_to_currency = "USD"
xe_amount = trvl_details["item"][item_list_cnt]["unit_price_num"]
xe_decimal_places = 2</spiffworkflow:preScript>
            <spiffworkflow:postScript># Delete Unneeded Variables
del(xe_convert_from_currency)
del(xe_convert_to_currency)
del(xe_amount)
del(xe_decimal_places)</spiffworkflow:postScript>
            <spiffworkflow:instructionsForEndUser>Getting currency rates from XE</spiffworkflow:instructionsForEndUser>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_0oj2rzg</bpmn:incoming>
          <bpmn:outgoing>Flow_0yzymjg</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:scriptTask id="Activity_0xgvrdh" name="Set Item List Total &#38; Count">
          <bpmn:incoming>Flow_04gxo4i</bpmn:incoming>
          <bpmn:outgoing>Flow_0e95pd0</bpmn:outgoing>
          <bpmn:script># Set List Count and Counter
item_list_cnt = 0
item_list_total = len(trvl_details["item"])

# Initially set Request Exceeds Threshold to False
request_exceeds_threshold = False

# Set Default Value for Crypto Conversion Check
is_xe = False

# Set Item Name and URl lists
is_item_url_list = []
item_url_list = []
item_name_list = []</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:scriptTask id="Activity_0gcnfya" name="Set Item Amount for Currency Conversion">
          <bpmn:incoming>Flow_11jp113</bpmn:incoming>
          <bpmn:outgoing>Flow_1s5j2un</bpmn:outgoing>
          <bpmn:script># Get Process Instance
process_info = get_toplevel_process_info()
process_instance_id = process_info["process_instance_id"]
process_instance_id_str = str(process_instance_id)
del(process_info)

# Add Process Instance Id, for Postgres extract
trvl_details["item"][item_list_cnt]["process_instance_id"] = process_instance_id_str

# If selected, add Fiat conversion info
if trvl_details["item"][item_list_cnt]["currency_type"] == "fiat":
    trvl_details["item"][item_list_cnt]["converted_to_unit_price"] = round(xe_convert_from["to"][0]["mid"], 2)
    trvl_details["item"][item_list_cnt]["xe_usd_mid"] = xe_convert_from["to"][0]["mid"]
    trvl_details["item"][item_list_cnt]["unit_price_total"] = round(trvl_details["item"][item_list_cnt]["qty"] * trvl_details["item"][item_list_cnt]["unit_price_num"], 2)
    trvl_details["item"][item_list_cnt]["xe_usd_mid_date"] = local_date_str
    trvl_details["item"][item_list_cnt]["cg_usd_mid_time"] = local_time_str
    del(xe_convert_from)

# If selected, add Crypto conversion info
if trvl_details["item"][item_list_cnt]["currency_type"] == "crypto":
    trvl_details["item"][item_list_cnt]["converted_to_unit_price"] = round(cg_usd_conversion_rate * trvl_details["item"][item_list_cnt]["unit_price_num"], 4)
    trvl_details["item"][item_list_cnt]["cg_usd_conversion_rate"] = cg_usd_conversion_rate
    trvl_details["item"][item_list_cnt]["unit_price_total"] = round(trvl_details["item"][item_list_cnt]["qty"] * trvl_details["item"][item_list_cnt]["unit_price_num"], 4)
    trvl_details["item"][item_list_cnt]["cg_usd_conversion_rate_date"] = local_date_str
    trvl_details["item"][item_list_cnt]["cg_usd_conversion_rate_time"] = local_time_str

# Calculate Converted to unit price total
trvl_details["item"][item_list_cnt]["converted_to_currency"] = "USD"
trvl_details["item"][item_list_cnt]["converted_to_unit_price_total"] = round(trvl_details["item"][item_list_cnt]["qty"] * trvl_details["item"][item_list_cnt]["converted_to_unit_price"], 2)

# Delete Unneeded Variables
del(local_date_str)
del(local_time_str)</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:startEvent id="Event_0uyh2yh">
          <bpmn:outgoing>Flow_04gxo4i</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:exclusiveGateway id="Gateway_1tg7bl9" name="More Items?" default="Flow_03hk9xl">
          <bpmn:incoming>Flow_1fr8h2a</bpmn:incoming>
          <bpmn:outgoing>Flow_03hk9xl</bpmn:outgoing>
          <bpmn:outgoing>Flow_0wmxs2e</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:exclusiveGateway id="Gateway_1hwlsey">
          <bpmn:incoming>Flow_0e95pd0</bpmn:incoming>
          <bpmn:incoming>Flow_0wmxs2e</bpmn:incoming>
          <bpmn:outgoing>Flow_0r6exl3</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:scriptTask id="Activity_1o2v25j" name="Set Item Amount">
          <bpmn:incoming>Flow_08d1pda</bpmn:incoming>
          <bpmn:outgoing>Flow_1c12pyi</bpmn:outgoing>
          <bpmn:script># Set Item Unit Price to Numeric Value
trvl_details["item"][item_list_cnt]["unit_price_num"] = float((trvl_details["item"][item_list_cnt]["unit_price"]).replace(',', ''))

# Set Sub-Category Name
temp_sub_category_name = [x["label"] for x in travel_sub_category_enum_list if x["value"] == trvl_details["item"][item_list_cnt]["sub_category"]]

trvl_details["item"][item_list_cnt]["sub_category_name"] = temp_sub_category_name[0]
del(temp_sub_category_name)

# Get Currency Type Label
temp_currency_type_name = [x["label"] for x in currency_type_enum_list if x["value"] == trvl_details["item"][item_list_cnt]["currency_type"]]
trvl_details["item"][item_list_cnt]["currency_type_name"] = temp_currency_type_name[0]
del(temp_currency_type_name)</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:scriptTask id="Activity_0x4fprm" name="Get Total">
          <bpmn:incoming>Flow_11bg9z9</bpmn:incoming>
          <bpmn:outgoing>Flow_077coya</bpmn:outgoing>
          <bpmn:script># Calculate total UDS anount
converted_to_unit_price_total_sum = sum(v.get('converted_to_unit_price_total', 0) for v in trvl_details["item"]) +trvl_details["meals_cost"]
converted_to_unit_price_total_sum_rounded = round(converted_to_unit_price_total_sum, 2)
trvl_details["total_request_amount_usd"] = converted_to_unit_price_total_sum_rounded
trvl_details["total_request_amount_usd_display"] = "{:,.2f}".format(trvl_details["total_request_amount_usd"]) 

# Delete Unneeded Variable
if is_xe:
    del(xe_amount)
    del(xe_convert_from)
    del(xe_convert_from_currency)
    del(xe_convert_to_currency)
    del(xe_decimal_places)

del(exceeds_threshold)
del(item_list_cnt)
del(is_xe)
del(converted_to_unit_price_total_sum)
del(converted_to_unit_price_total_sum_rounded)
del(process_instance_id_str)</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:exclusiveGateway id="Gateway_1obo9xe" name="Currency Type">
          <bpmn:incoming>Flow_1c12pyi</bpmn:incoming>
          <bpmn:outgoing>Flow_0oj2rzg</bpmn:outgoing>
          <bpmn:outgoing>Flow_0y3b16d</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:exclusiveGateway id="Gateway_1v46hic">
          <bpmn:incoming>Flow_0yzymjg</bpmn:incoming>
          <bpmn:incoming>Flow_1gdgdff</bpmn:incoming>
          <bpmn:outgoing>Flow_0mj9wyr</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:callActivity id="Activity_059iol0" name="Get Coin Gecko Crypto Conversion" calledElement="coin_gecko-simple_price">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Convert From Coin Symbol
coin_symbol = trvl_details["item"][item_list_cnt]["currency"]</spiffworkflow:preScript>
            <spiffworkflow:postScript />
            <spiffworkflow:instructionsForEndUser>Getting currency rates from CoinGecko</spiffworkflow:instructionsForEndUser>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_0y3b16d</bpmn:incoming>
          <bpmn:outgoing>Flow_1gdgdff</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:callActivity id="Activity_1w5mdib" name="Check Threshold" calledElement="AS-Check_Thresholds">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set input variables
threshold_category = trvl_details["category"]
threshold_sub_category = trvl_details["item"][item_list_cnt]["sub_category"]
exceeds_check_unit_price = trvl_details["item"][item_list_cnt]["converted_to_unit_price"]</spiffworkflow:preScript>
            <spiffworkflow:postScript># Set Threshold
trvl_details["item"][item_list_cnt]["exceeds_threshold"] = exceeds_threshold

# If any item exceeds threshold, request exceeds threshold
if exceeds_threshold:
    request_exceeds_threshold = True

# Increase Item Id
trvl_details["item"][item_list_cnt]["item_id"] = item_list_cnt + 1

# Increase Item Count
item_list_cnt = item_list_cnt + 1

# Delete variables
del(threshold_category)
del(threshold_sub_category)
del(exceeds_check_unit_price)</spiffworkflow:postScript>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_1s5j2un</bpmn:incoming>
          <bpmn:outgoing>Flow_1fr8h2a</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:callActivity id="Activity_1jlbos5" name="Get Date and time" calledElement="Shared_Local_Date_Time">
          <bpmn:incoming>Flow_0mj9wyr</bpmn:incoming>
          <bpmn:outgoing>Flow_11jp113</bpmn:outgoing>
        </bpmn:callActivity>
        <bpmn:endEvent id="Event_0ffijf1">
          <bpmn:incoming>Flow_077coya</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:scriptTask id="Activity_00v6em6" name="Calculate Number of Days and Meals Cost">
          <bpmn:incoming>Flow_03hk9xl</bpmn:incoming>
          <bpmn:outgoing>Flow_11bg9z9</bpmn:outgoing>
          <bpmn:script># Calculate total per diem meal cost
start_object = datetime.strptime(trvl_details["start_date"], '%Y-%m-%d')
end_object = datetime.strptime(trvl_details["end_date"], '%Y-%m-%d')
number_of_days = (end_object - start_object).days + 1
trvl_details["number_of_days"] = number_of_days

# Meals in USD
meals_cost = number_of_days * 75
trvl_details["meals_cost"] = meals_cost
trvl_details["meals_cost_display"] = "{:,.2f}".format(trvl_details["meals_cost"])

del(start_object)
del(end_object)
del(meals_cost)
del(number_of_days)</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow id="Flow_0oj2rzg" name="Fiat" sourceRef="Gateway_1obo9xe" targetRef="Activity_1km8pud">
          <bpmn:conditionExpression>trvl_details["item"][item_list_cnt]["currency_type"] == "fiat"</bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:sequenceFlow id="Flow_0yzymjg" sourceRef="Activity_1km8pud" targetRef="Gateway_1v46hic" />
        <bpmn:sequenceFlow id="Flow_04gxo4i" sourceRef="Event_0uyh2yh" targetRef="Activity_0xgvrdh" />
        <bpmn:sequenceFlow id="Flow_0e95pd0" sourceRef="Activity_0xgvrdh" targetRef="Gateway_1hwlsey" />
        <bpmn:sequenceFlow id="Flow_11jp113" sourceRef="Activity_1jlbos5" targetRef="Activity_0gcnfya" />
        <bpmn:sequenceFlow id="Flow_1s5j2un" sourceRef="Activity_0gcnfya" targetRef="Activity_1w5mdib" />
        <bpmn:sequenceFlow id="Flow_1fr8h2a" sourceRef="Activity_1w5mdib" targetRef="Gateway_1tg7bl9" />
        <bpmn:sequenceFlow id="Flow_03hk9xl" name="No" sourceRef="Gateway_1tg7bl9" targetRef="Activity_00v6em6" />
        <bpmn:sequenceFlow id="Flow_0wmxs2e" name="Yes" sourceRef="Gateway_1tg7bl9" targetRef="Gateway_1hwlsey">
          <bpmn:conditionExpression>item_list_cnt &lt; item_list_total</bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:sequenceFlow id="Flow_1c12pyi" sourceRef="Activity_1o2v25j" targetRef="Gateway_1obo9xe" />
        <bpmn:sequenceFlow id="Flow_11bg9z9" sourceRef="Activity_00v6em6" targetRef="Activity_0x4fprm" />
        <bpmn:sequenceFlow id="Flow_077coya" sourceRef="Activity_0x4fprm" targetRef="Event_0ffijf1" />
        <bpmn:sequenceFlow id="Flow_0y3b16d" name="Crypto" sourceRef="Gateway_1obo9xe" targetRef="Activity_059iol0">
          <bpmn:conditionExpression>trvl_details["item"][item_list_cnt]["currency_type"] == "crypto"</bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:sequenceFlow id="Flow_1gdgdff" sourceRef="Activity_059iol0" targetRef="Gateway_1v46hic" />
        <bpmn:sequenceFlow id="Flow_0mj9wyr" sourceRef="Gateway_1v46hic" targetRef="Activity_1jlbos5" />
        <bpmn:scriptTask id="Activity_0fn44oi" name="Check Name Link">
          <bpmn:extensionElements>
            <spiffworkflow:instructionsForEndUser />
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_0r6exl3</bpmn:incoming>
          <bpmn:outgoing>Flow_08d1pda</bpmn:outgoing>
          <bpmn:script># Check for Item URl
if "item_url" in trvl_details["item"][item_list_cnt]:
    is_item_url_list.append(True)
    item_url_list.append(trvl_details["item"][item_list_cnt]["item_url"])
else:
    is_item_url_list.append(False)
    item_url_list.append("")

# Set Ite m Name
item_name_list.append(trvl_details["item"][item_list_cnt]["item_name"])</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow id="Flow_0r6exl3" sourceRef="Gateway_1hwlsey" targetRef="Activity_0fn44oi" />
        <bpmn:sequenceFlow id="Flow_08d1pda" sourceRef="Activity_0fn44oi" targetRef="Activity_1o2v25j" />
      </bpmn:subProcess>
      <bpmn:exclusiveGateway id="Gateway_0mgaqm0">
        <bpmn:incoming>Flow_119j0el</bpmn:incoming>
        <bpmn:incoming>Flow_18qe7ut</bpmn:incoming>
        <bpmn:outgoing>Flow_0y8xob6</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:exclusiveGateway id="Gateway_1w29vwy" name="Budget Owners Assigned?" default="Flow_05hzfur">
        <bpmn:incoming>Flow_0y8xob6</bpmn:incoming>
        <bpmn:outgoing>Flow_19t1udw</bpmn:outgoing>
        <bpmn:outgoing>Flow_05hzfur</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_0ch4cxy" name="No" sourceRef="Gateway_0ya0v1p" targetRef="Activity_0cjtlcn" />
      <bpmn:sequenceFlow id="Flow_0op21ag" name="Yes" sourceRef="Gateway_0ya0v1p" targetRef="Activity_00z3wwk">
        <bpmn:conditionExpression>frontend_url == "https://prod.spiffworkflow.org"</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1whl6cg" sourceRef="Activity_1b0myha" targetRef="Activity_1m7vf8b" />
      <bpmn:sequenceFlow id="Flow_19t1udw" name="No" sourceRef="Gateway_1w29vwy" targetRef="Activity_1ruqwoy">
        <bpmn:conditionExpression>l1_budget_owner_bamboo_eid == 0 or l2_budget_owner_bamboo_eid == 0</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_119j0el" sourceRef="Activity_00z3wwk" targetRef="Gateway_0mgaqm0" />
      <bpmn:sequenceFlow id="Flow_18qe7ut" sourceRef="Activity_0cjtlcn" targetRef="Gateway_0mgaqm0" />
      <bpmn:sequenceFlow id="Flow_05hzfur" name="Yes" sourceRef="Gateway_1w29vwy" targetRef="Activity_1b0myha" />
      <bpmn:sequenceFlow id="Flow_0y8xob6" sourceRef="Gateway_0mgaqm0" targetRef="Gateway_1w29vwy" />
      <bpmn:sequenceFlow id="Flow_0dgrlbd" sourceRef="Gateway_0inv03y" targetRef="Event_0w8du5u" />
      <bpmn:boundaryEvent id="Event_1mrg0x6" name="Cancel Request" attachedToRef="Activity_0qq1v3z">
        <bpmn:extensionElements>
          <spiffworkflow:signalButtonLabel>Cancel Request</spiffworkflow:signalButtonLabel>
        </bpmn:extensionElements>
        <bpmn:outgoing>Flow_0z8xl4u</bpmn:outgoing>
        <bpmn:signalEventDefinition id="SignalEventDefinition_1u4p2rw" />
      </bpmn:boundaryEvent>
      <bpmn:manualTask id="Activity_1ruqwoy" name="Ask New Project or Cancel?">
        <bpmn:extensionElements>
          <spiffworkflow:properties>
            <spiffworkflow:property name="formJsonSchemaFilename" value="no_budget_owners-schema.json" />
            <spiffworkflow:property name="formUiSchemaFilename" value="no_budget_owners-uischema.json" />
          </spiffworkflow:properties>
          <spiffworkflow:instructionsForEndUser>---
The Project you selected is not configured for the approval process at this time. Click Continue to select a different Project or Cancel the Request.

---</spiffworkflow:instructionsForEndUser>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_19t1udw</bpmn:incoming>
        <bpmn:outgoing>Flow_1e5xai6</bpmn:outgoing>
      </bpmn:manualTask>
      <bpmn:sequenceFlow id="Flow_1e5xai6" sourceRef="Activity_1ruqwoy" targetRef="Gateway_0inv03y" />
      <bpmn:boundaryEvent id="Event_0snfk63" name="Cancel Request" attachedToRef="Activity_1ruqwoy">
        <bpmn:extensionElements>
          <spiffworkflow:signalButtonLabel>Cancel Request</spiffworkflow:signalButtonLabel>
        </bpmn:extensionElements>
        <bpmn:outgoing>Flow_0zen0hg</bpmn:outgoing>
        <bpmn:signalEventDefinition id="SignalEventDefinition_0xpozws" />
      </bpmn:boundaryEvent>
      <bpmn:userTask id="Activity_1m7vf8b" name="Review the Request">
        <bpmn:extensionElements>
          <spiffworkflow:properties>
            <spiffworkflow:property name="formJsonSchemaFilename" value="trvl-supporting_info_repeating_files-schema.json" />
            <spiffworkflow:property name="formUiSchemaFilename" value="trvl-supporting_info_repeating_files-uischema.json" />
          </spiffworkflow:properties>
          <spiffworkflow:instructionsForEndUser>---

**Requestor**: {{ trvl_details["requestor"] }} 

--- 

|  |  | 
| --------------: | -------------------------------- | 
|**Traveller** | {{ trvl_details["core_contributor_display"] }} |
|**Purpose** | {{  trvl_details["purpose"] }} |

| Project | Event Type | Criticality | Event Date | Event Name | Event Destination | Visa required? |
| -------------------------------- | -------------------------------- | -------------------------------- | -------------------------------- | -------------------------------- | -------------------------------- | ----- |
| {{ trvl_details["project_name"] }} |  {{ trvl_details["event_type_name"] }} | {{ trvl_details["criticality"] }} | {{ trvl_details["period_display"] }} | {{ trvl_details["event_name"] }} | {{ trvl_details["event_destination_display"] }} | {{ trvl_details["visa_display"] }} |

----------
### Itinerary

**Departure**: {{ trvl_details["start_date_display"] }} , {{ trvl_details["departure_from_display"] }}

**Return**: {{ trvl_details["end_date_display"] }}, {{ trvl_details["return_to_display"] }}

**Number of days**: {{ trvl_details["number_of_days"] }}

---
### Items  
| Item | Sub-Category | Qty | Currency | Unit Price | Total Price | USD Price | Total USD Price |
| ---- | ----------------- | :---: | :---------: | ----------: | ------------: | -----------: | -----------------: |
| Per diem | Meals | {{ trvl_details["number_of_days"] }} | USD | 75.00 | {{ trvl_details["meals_cost_display"] }} | 75.00 | {{ trvl_details["meals_cost_display"] }} |
{% for icnt in range(item_list_total) %}
| {% if is_item_url_list[icnt] %}&lt;a href="{{ item_url_list[icnt] }}" target="_blank" &gt;{{ item_name_list[icnt] }}&lt;/a&gt;{% else %}{{ item_name_list[icnt] }}{% endif %} | {{ trvl_details["item"][icnt]["sub_category_name"] }} | {{ trvl_details["item"][icnt]["qty"] }} | {{ trvl_details["item"][icnt]["currency"] }} | {% if trvl_details["item"][icnt]["currency_type"] == "crypto" %}{{ "{:,.4f}".format(trvl_details["item"][icnt]["unit_price_num"]) }}{% else %}{{ "{:,.2f}".format(trvl_details["item"][icnt]["unit_price_num"]) }}{% endif %} | {% if trvl_details["item"][icnt]["currency_type"] == "crypto" %}{{ "{:,.4f}".format(trvl_details["item"][icnt]["unit_price_total"]) }}{% else %}{{ "{:,.2f}".format(trvl_details["item"][icnt]["unit_price_total"]) }}{% endif %} | {{ "{:,.2f}".format(trvl_details["item"][icnt]["converted_to_unit_price"]) }} | {{ "{:,.2f}".format(trvl_details["item"][icnt]["converted_to_unit_price_total"]) }} |
{% endfor %}
----------
### Total Request: {{ "{:,.2f}".format(trvl_details["total_request_amount_usd"]) }} USD**


&lt;sub&gt; *Fiat - Exchange Rates used to calculate the "USD" amounts are under &lt;a href="http://www.xe.com/" target="_blank" &gt;license from Xe&lt;/a&gt;. Please note that if you use this Xe Data, you are obliged to comply with &lt;a href="http://www.xe.com/legal/dfs.php" target="_blank" &gt;Xe's end terms of use&lt;/a&gt;. &lt;sub&gt;

&lt;sub&gt; *Crypto - Exchange Rates used to calculate the "USD" amounts are received from  &lt;a href="https://www.coingecko.com/en/api" target="_blank" &gt;CoinGecko&lt;/a&gt;.&lt;sub&gt;

----------
{% if is_additional_information %}
### Reviewer Additional Information Request 

| Requested by  | &lt;div style="width:90px"&gt;Date&lt;div&gt; | &lt;div style="width:65px"&gt;Time&lt;div&gt; | Additional Information Requested |
| ----------------- | ----- | ----- | -------------------------------------- |
| {{ nai_reviewer_comment["Reviewer Role"] }} | {{ nai_reviewer_comment["Reviewer Comment Date"] }} | {{ nai_reviewer_comment["Reviewer Comment Time"] }} | {{ nai_reviewer_comment["Reviewer Comment"] }} |


---

{% endif %}</spiffworkflow:instructionsForEndUser>
          <spiffworkflow:postScript># If no addtion details were provided, set more_details to blank
try:
    supporting_information
except NameError:
    supporting_information = ""

# Determine if additional details were provided
is_supporting_information = len(supporting_information) &gt; 0

# if Supporting INformation, Remove any linefeeds
if is_supporting_information:
    supporting_information_double = supporting_information
    supporting_information_single = supporting_information_double.replace("\n\n", " ")
    supporting_information = supporting_information_single.replace("\n", " ")
    del(supporting_information_double)
    del(supporting_information_single)

# Add Supporting Information to Details
trvl_details["supporting_information"] = supporting_information

# Check if any Supporting Files were uploaded
try:
    supporting_files
except NameError:
    is_supporting_files = False
else:
    supporting_files = [x for x in supporting_files if len(x) &gt; 0]
    if len(supporting_files) &gt; 0:
        is_supporting_files = True
    else:
        del(supporting_files)
        is_supporting_files = False</spiffworkflow:postScript>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1whl6cg</bpmn:incoming>
        <bpmn:outgoing>Flow_18911q5</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:boundaryEvent id="Event_17o54mz" name="Cancel Request" attachedToRef="Activity_1m7vf8b">
        <bpmn:extensionElements>
          <spiffworkflow:signalButtonLabel>Cancel Request</spiffworkflow:signalButtonLabel>
        </bpmn:extensionElements>
        <bpmn:outgoing>Flow_1uda7lq</bpmn:outgoing>
        <bpmn:signalEventDefinition id="SignalEventDefinition_1bq5r3b" />
      </bpmn:boundaryEvent>
      <bpmn:intermediateThrowEvent id="Event_0rhsafs" name="Request Cancelled by Requestor">
        <bpmn:incoming>Flow_0z8xl4u</bpmn:incoming>
        <bpmn:outgoing>Flow_0l0kxuh</bpmn:outgoing>
      </bpmn:intermediateThrowEvent>
      <bpmn:sequenceFlow id="Flow_1uda7lq" sourceRef="Event_17o54mz" targetRef="Event_13ueqho" />
      <bpmn:sequenceFlow id="Flow_0zen0hg" sourceRef="Event_0snfk63" targetRef="Event_0i4eq27" />
      <bpmn:exclusiveGateway id="Gateway_067iebs">
        <bpmn:incoming>Flow_1wk4ctc</bpmn:incoming>
        <bpmn:incoming>Flow_1b7wncj</bpmn:incoming>
        <bpmn:incoming>Flow_0l0kxuh</bpmn:incoming>
        <bpmn:outgoing>Flow_0gs9a10</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1wk4ctc" sourceRef="Event_0i4eq27" targetRef="Gateway_067iebs" />
      <bpmn:sequenceFlow id="Flow_1b7wncj" sourceRef="Event_13ueqho" targetRef="Gateway_067iebs" />
      <bpmn:sequenceFlow id="Flow_0z8xl4u" sourceRef="Event_1mrg0x6" targetRef="Event_0rhsafs" />
      <bpmn:sequenceFlow id="Flow_0l0kxuh" sourceRef="Event_0rhsafs" targetRef="Gateway_067iebs" />
      <bpmn:sequenceFlow id="Flow_18911q5" sourceRef="Activity_1m7vf8b" targetRef="Event_0cqzojf" />
      <bpmn:boundaryEvent id="Event_0d7mg1q" name="Edit Request" attachedToRef="Activity_1m7vf8b">
        <bpmn:extensionElements>
          <spiffworkflow:signalButtonLabel>Edit Request</spiffworkflow:signalButtonLabel>
        </bpmn:extensionElements>
        <bpmn:outgoing>Flow_1w54t94</bpmn:outgoing>
        <bpmn:signalEventDefinition id="SignalEventDefinition_0nd385b" />
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="Flow_0xus3om" sourceRef="Activity_0qq1v3z" targetRef="Gateway_0ya0v1p" />
      <bpmn:sequenceFlow id="Flow_1w54t94" sourceRef="Event_0d7mg1q" targetRef="Gateway_0inv03y" />
      <bpmn:sequenceFlow id="Flow_0gs9a10" sourceRef="Gateway_067iebs" targetRef="Activity_0w08hid" />
      <bpmn:intermediateThrowEvent id="Event_0w8du5u" name="Request is CREATED">
        <bpmn:incoming>Flow_0dgrlbd</bpmn:incoming>
        <bpmn:outgoing>Flow_1sx4un4</bpmn:outgoing>
      </bpmn:intermediateThrowEvent>
      <bpmn:sequenceFlow id="Flow_1sx4un4" sourceRef="Event_0w8du5u" targetRef="Activity_0qq1v3z" />
      <bpmn:textAnnotation id="TextAnnotation_1vh5hxs">
        <bpmn:text>User Form is different</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_100uyy1" sourceRef="Activity_0qq1v3z" targetRef="TextAnnotation_1vh5hxs" />
      <bpmn:textAnnotation id="TextAnnotation_1ff5ibz">
        <bpmn:text>1 request per role - to get confirmation from JB</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_1gw63te" sourceRef="Activity_0qq1v3z" targetRef="TextAnnotation_1ff5ibz" />
      <bpmn:textAnnotation id="TextAnnotation_0cm7j6s">
        <bpmn:text>Should be Program/Service Lead, L2 is not always the same</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_1cij76b" sourceRef="Activity_00z3wwk" targetRef="TextAnnotation_0cm7j6s" />
      <bpmn:textAnnotation id="TextAnnotation_05o88i3">
        <bpmn:text>no need for items</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_1wfvvgo" sourceRef="Activity_0qq1v3z" targetRef="TextAnnotation_05o88i3" />
      <bpmn:textAnnotation id="TextAnnotation_06rl84c">
        <bpmn:text>for Hiring manager - use Typeahead</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0wh4ckx" sourceRef="Activity_0qq1v3z" targetRef="TextAnnotation_06rl84c" />
      <bpmn:textAnnotation id="TextAnnotation_0vhxdo8">
        <bpmn:text>User Form is TBC one more time with JB</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0zxoer5" sourceRef="Activity_0qq1v3z" targetRef="TextAnnotation_0vhxdo8" />
      <bpmn:textAnnotation id="TextAnnotation_0jojlsk">
        <bpmn:text>currency will be always USD?</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_16g6gz9" sourceRef="Activity_0qq1v3z" targetRef="TextAnnotation_0jojlsk" />
      <bpmn:textAnnotation id="TextAnnotation_01xv5o2">
        <bpmn:text>Can the amount be in crypto?</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0lbj749" sourceRef="Activity_0qq1v3z" targetRef="TextAnnotation_01xv5o2" />
    </bpmn:subProcess>
    <bpmn:subProcess id="Activity_1dpvgq0" name="Send Waku Outcome Message">
      <bpmn:incoming>Flow_1svj7af</bpmn:incoming>
      <bpmn:outgoing>Flow_0idzytl</bpmn:outgoing>
      <bpmn:startEvent id="Event_161tmxa">
        <bpmn:outgoing>Flow_09uui77</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:exclusiveGateway id="Gateway_0kny3ti" name="Additional Information Requested or Rejected?" default="Flow_1bkg437">
        <bpmn:incoming>Flow_09uui77</bpmn:incoming>
        <bpmn:outgoing>Flow_1bkg437</bpmn:outgoing>
        <bpmn:outgoing>Flow_0epa5vy</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_09uui77" sourceRef="Event_161tmxa" targetRef="Gateway_0kny3ti" />
      <bpmn:exclusiveGateway id="Gateway_1g7krxk">
        <bpmn:incoming>Flow_1bkg437</bpmn:incoming>
        <bpmn:incoming>Flow_1wlj1lr</bpmn:incoming>
        <bpmn:outgoing>Flow_1ipspcm</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1bkg437" name="No" sourceRef="Gateway_0kny3ti" targetRef="Gateway_1g7krxk" />
      <bpmn:sequenceFlow id="Flow_0epa5vy" name="Yes" sourceRef="Gateway_0kny3ti" targetRef="Activity_1gr4wq2">
        <bpmn:conditionExpression>last_approval_outcome == "nai" or last_approval_outcome == "rej"</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0cablju" sourceRef="Activity_1gr4wq2" targetRef="Activity_17jri7r" />
      <bpmn:scriptTask id="Activity_17jri7r" name="Set Reason">
        <bpmn:incoming>Flow_0cablju</bpmn:incoming>
        <bpmn:outgoing>Flow_1wlj1lr</bpmn:outgoing>
        <bpmn:script># Determine index of last Reviewer Comment
review_comment_cnt = len(review_comment_list)
nai_index = review_comment_cnt - 1

# Get Last Reviewer's Greet Name
reviewer_greet_names = {k: v["Greet Name"] for d in approvers for k, v in d.items()}
last_reviewer = review_comment_list[nai_index]["Reviewer"]
last_reviewer_greet_name = reviewer_greet_names[last_reviewer]

# Get Last Reviewer Comment 
nai_reviewer_comment = {}
nai_reviewer_comment["Reviewer Role"] = last_reviewer
nai_reviewer_comment["Reviewer Comment Date"] = local_date_str
nai_reviewer_comment["Reviewer Comment Time"] = local_time_str
nai_reviewer_comment["Reviewer Comment"] = review_comment_list[nai_index]["Reviewer Comment"]

# Set Variable to Indicate Addition Information has been Requested
is_additional_information = True

# Reset Requester's Supporting Information
supporting_information = trvl_details["supporting_information"]

del(local_date_str)
del(local_time_str)</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_1wlj1lr" sourceRef="Activity_17jri7r" targetRef="Gateway_1g7krxk" />
      <bpmn:callActivity id="Activity_1gr4wq2" name="Get Date and Time" calledElement="Shared_Local_Date_Time">
        <bpmn:incoming>Flow_0epa5vy</bpmn:incoming>
        <bpmn:outgoing>Flow_0cablju</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:callActivity id="Activity_19fohul" name="Send Waku Outcome Message" calledElement="AS-Waku_Messages_Message">
        <bpmn:extensionElements>
          <spiffworkflow:preScript>if last_approval_outcome == "rej":
    message_id = "waku_request_rejected"
elif last_approval_outcome == "app":
    message_id = "waku_trvl_request_approved"
elif last_approval_outcome == "nai":
    message_id = "waku_additional_info_required"
else:
    message_id = "not_set"

# Set Requestor Status Key
as_message_status_keys = []
as_requestor_status_key = trvl_details["requestor_status_key"]
as_message_status_keys.append(as_requestor_status_key)</spiffworkflow:preScript>
          <spiffworkflow:postScript># Delete Unneeded Variables
del(message_id)
del(as_message_status_keys)</spiffworkflow:postScript>
          <spiffworkflow:instructionsForEndUser>Sending Requestor Waku message</spiffworkflow:instructionsForEndUser>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1ipspcm</bpmn:incoming>
        <bpmn:outgoing>Flow_1h6i1mp</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_1h6i1mp" sourceRef="Activity_19fohul" targetRef="Event_0s83pp7" />
      <bpmn:endEvent id="Event_0s83pp7">
        <bpmn:incoming>Flow_1h6i1mp</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1ipspcm" sourceRef="Gateway_1g7krxk" targetRef="Activity_19fohul" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="Flow_1rpyrgl" sourceRef="Activity_0o5rhui" targetRef="Gateway_1bz36qs" />
    <bpmn:sequenceFlow id="Flow_0m414q7" name="Yes" sourceRef="Gateway_0gpvfm8" targetRef="Gateway_1bz36qs">
      <bpmn:conditionExpression>last_approval_outcome == "nai"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_154casc" sourceRef="Gateway_1bz36qs" targetRef="Activity_1e64lzx" />
    <bpmn:sequenceFlow id="Flow_1gpngr0" sourceRef="Activity_1e64lzx" targetRef="Gateway_1ci8c4i" />
    <bpmn:sequenceFlow id="Flow_1g8h223" name="Yes" sourceRef="Gateway_1ci8c4i" targetRef="Event_1lr6j50">
      <bpmn:conditionExpression>is_request_cancelled</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0xz0rte" name="No" sourceRef="Gateway_1ci8c4i" targetRef="Activity_05solt4" />
    <bpmn:sequenceFlow id="Flow_1awy4f9" sourceRef="Event_15gc86r" targetRef="Activity_0o5rhui" />
    <bpmn:sequenceFlow id="Flow_1ieb889" sourceRef="Activity_05ou4v1" targetRef="Gateway_0dvdlwh" />
    <bpmn:sequenceFlow id="Flow_0dxc4uz" name="No" sourceRef="Gateway_0dvdlwh" targetRef="Activity_1vw9byu" />
    <bpmn:sequenceFlow id="Flow_1r7byc8" name="Yes" sourceRef="Gateway_0dvdlwh" targetRef="Gateway_0z3562z">
      <bpmn:conditionExpression>last_approval_outcome == "nai" or last_approval_outcome == "rej"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0idzytl" sourceRef="Activity_1dpvgq0" targetRef="Gateway_0gpvfm8" />
    <bpmn:sequenceFlow id="Flow_0mi1iph" name="No" sourceRef="Gateway_0gpvfm8" targetRef="Activity_0apmo1t" />
    <bpmn:sequenceFlow id="Flow_1hb6m2j" sourceRef="Activity_1vw9byu" targetRef="Gateway_0z3562z" />
    <bpmn:sequenceFlow id="Flow_1svj7af" sourceRef="Gateway_0z3562z" targetRef="Activity_1dpvgq0" />
    <bpmn:sequenceFlow id="Flow_0nom5oy" sourceRef="Activity_05solt4" targetRef="Activity_05ou4v1" />
    <bpmn:sequenceFlow id="Flow_0ez35ra" sourceRef="Activity_0apmo1t" targetRef="Gateway_09pngbv" />
    <bpmn:sequenceFlow id="Flow_0ejzyvh" sourceRef="Activity_04ium7h" targetRef="Activity_0adfss7" />
    <bpmn:sequenceFlow id="Flow_14udt27" sourceRef="Activity_0adfss7" targetRef="Gateway_0ip2pbu" />
    <bpmn:sequenceFlow id="Flow_1b4y857" sourceRef="Activity_0cac2ge" targetRef="Activity_1el69ef" />
    <bpmn:sequenceFlow id="Flow_1ew5sem" sourceRef="Activity_00bqo01" targetRef="Activity_0h7ft7p" />
    <bpmn:subProcess id="Activity_04ium7h" name="Update the Request">
      <bpmn:incoming>Flow_1cqv4yz</bpmn:incoming>
      <bpmn:outgoing>Flow_0ejzyvh</bpmn:outgoing>
      <bpmn:startEvent id="Event_0kquy9q">
        <bpmn:outgoing>Flow_062233f</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_062233f" sourceRef="Event_0kquy9q" targetRef="Activity_1qqxh4i" />
      <bpmn:sequenceFlow id="Flow_0m61kxf" sourceRef="Activity_0d3s2kw" targetRef="Activity_13hgfan" />
      <bpmn:sequenceFlow id="Flow_0g2pd95" sourceRef="Activity_13hgfan" targetRef="Activity_1j5okve" />
      <bpmn:userTask id="Activity_1j5okve" name="Update the request">
        <bpmn:incoming>Flow_0g2pd95</bpmn:incoming>
        <bpmn:outgoing>Flow_04lznc6</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:endEvent id="Event_03bnppy">
        <bpmn:incoming>Flow_06m0ary</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_04lznc6" sourceRef="Activity_1j5okve" targetRef="Activity_0uzmlil" />
      <bpmn:task id="Activity_0uzmlil" name="Waku - to send notification to Head of PeopleOps">
        <bpmn:incoming>Flow_04lznc6</bpmn:incoming>
        <bpmn:outgoing>Flow_06m0ary</bpmn:outgoing>
      </bpmn:task>
      <bpmn:sequenceFlow id="Flow_06m0ary" sourceRef="Activity_0uzmlil" targetRef="Event_03bnppy" />
      <bpmn:userTask id="Activity_0d3s2kw" name="Prepare Job Description">
        <bpmn:incoming>Flow_07xnd9q</bpmn:incoming>
        <bpmn:outgoing>Flow_0m61kxf</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Activity_13hgfan" name="Create a Job profile in GreenHouse">
        <bpmn:incoming>Flow_0m61kxf</bpmn:incoming>
        <bpmn:outgoing>Flow_0g2pd95</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="Flow_07xnd9q" sourceRef="Activity_1qqxh4i" targetRef="Activity_0d3s2kw" />
      <bpmn:userTask id="Activity_1qqxh4i" name="Review the request">
        <bpmn:incoming>Flow_062233f</bpmn:incoming>
        <bpmn:outgoing>Flow_07xnd9q</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:textAnnotation id="TextAnnotation_0taljqg">
        <bpmn:text>This should look as a tick-box + link to the job description</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0lo7r43" sourceRef="Activity_0d3s2kw" targetRef="TextAnnotation_0taljqg" />
      <bpmn:textAnnotation id="TextAnnotation_0capaop">
        <bpmn:text>a link should be submitted</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0r9l1nr" sourceRef="Activity_13hgfan" targetRef="TextAnnotation_0capaop" />
      <bpmn:textAnnotation id="TextAnnotation_1f7d16m">
        <bpmn:text>review the fields submitted + levels ect</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_1ajzrot" sourceRef="Activity_1j5okve" targetRef="TextAnnotation_1f7d16m" />
      <bpmn:textAnnotation id="TextAnnotation_1fqp2p7">
        <bpmn:text>should it include the 2 next tasks?</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_1vd46sr" sourceRef="Activity_1qqxh4i" targetRef="TextAnnotation_1fqp2p7" />
    </bpmn:subProcess>
    <bpmn:subProcess id="Activity_0apmo1t" name="Assign a Recruiter">
      <bpmn:incoming>Flow_0mi1iph</bpmn:incoming>
      <bpmn:outgoing>Flow_0ez35ra</bpmn:outgoing>
      <bpmn:startEvent id="Event_0fc60tr">
        <bpmn:outgoing>Flow_0td3lsi</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_0td3lsi" sourceRef="Event_0fc60tr" targetRef="Activity_139hw92" />
      <bpmn:sequenceFlow id="Flow_0g7z4ew" sourceRef="Activity_139hw92" targetRef="Activity_0ofxzeu" />
      <bpmn:scriptTask id="Activity_139hw92" name="Get a list of PeopleOps (Talent) users">
        <bpmn:incoming>Flow_0td3lsi</bpmn:incoming>
        <bpmn:outgoing>Flow_0g7z4ew</bpmn:outgoing>
      </bpmn:scriptTask>
      <bpmn:userTask id="Activity_0ofxzeu" name="Assign a Recruiter to the request">
        <bpmn:incoming>Flow_0g7z4ew</bpmn:incoming>
        <bpmn:outgoing>Flow_1xvdncl</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:endEvent id="Event_02iwg86">
        <bpmn:incoming>Flow_11bn803</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1xvdncl" sourceRef="Activity_0ofxzeu" targetRef="Activity_0n9gw3w" />
      <bpmn:task id="Activity_0n9gw3w" name="Waku - send notification to PeopleOps Talent user">
        <bpmn:incoming>Flow_1xvdncl</bpmn:incoming>
        <bpmn:outgoing>Flow_11bn803</bpmn:outgoing>
      </bpmn:task>
      <bpmn:sequenceFlow id="Flow_11bn803" sourceRef="Activity_0n9gw3w" targetRef="Event_02iwg86" />
    </bpmn:subProcess>
    <bpmn:userTask id="Activity_0adfss7" name="Review the request">
      <bpmn:incoming>Flow_0ejzyvh</bpmn:incoming>
      <bpmn:outgoing>Flow_14udt27</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_17ajueg" sourceRef="Activity_0h7ft7p" targetRef="Activity_0cac2ge" />
    <bpmn:sequenceFlow id="Flow_1ge8w7r" sourceRef="Activity_1el69ef" targetRef="Event_14e2or3" />
    <bpmn:sequenceFlow id="Flow_1cqv4yz" sourceRef="Gateway_09pngbv" targetRef="Activity_04ium7h" />
    <bpmn:exclusiveGateway id="Gateway_09pngbv">
      <bpmn:incoming>Flow_0ez35ra</bpmn:incoming>
      <bpmn:incoming>Flow_1bg71py</bpmn:incoming>
      <bpmn:outgoing>Flow_1cqv4yz</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:subProcess id="Activity_00bqo01" name="Write Data to Postgres table">
      <bpmn:incoming>Flow_1qq3qyg</bpmn:incoming>
      <bpmn:outgoing>Flow_1ew5sem</bpmn:outgoing>
      <bpmn:startEvent id="Event_0ltl0sz">
        <bpmn:outgoing>Flow_1ya9gzv</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:endEvent id="Event_0o3spg1">
        <bpmn:incoming>Flow_07ikkpu</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1ya9gzv" sourceRef="Event_0ltl0sz" targetRef="Gateway_1tojcmn" />
      <bpmn:exclusiveGateway id="Gateway_1tojcmn">
        <bpmn:incoming>Flow_1ya9gzv</bpmn:incoming>
        <bpmn:outgoing>Flow_0q3ipnb</bpmn:outgoing>
        <bpmn:outgoing>Flow_13qd471</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_0q3ipnb" sourceRef="Gateway_1tojcmn" targetRef="Event_0yn6re6">
        <bpmn:conditionExpression>last_approval_outcome == "rej"</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:intermediateThrowEvent id="Event_0yn6re6" name="Request is REJECTED">
        <bpmn:incoming>Flow_0q3ipnb</bpmn:incoming>
        <bpmn:outgoing>Flow_11zpk89</bpmn:outgoing>
      </bpmn:intermediateThrowEvent>
      <bpmn:sequenceFlow id="Flow_11zpk89" sourceRef="Event_0yn6re6" targetRef="Gateway_0kzew52" />
      <bpmn:intermediateThrowEvent id="Event_1y8byuy" name="Request is APPROVED">
        <bpmn:incoming>Flow_13qd471</bpmn:incoming>
        <bpmn:outgoing>Flow_0eh8nri</bpmn:outgoing>
      </bpmn:intermediateThrowEvent>
      <bpmn:sequenceFlow id="Flow_13qd471" sourceRef="Gateway_1tojcmn" targetRef="Event_1y8byuy">
        <bpmn:conditionExpression>last_approval_outcome == "app"</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:exclusiveGateway id="Gateway_0kzew52">
        <bpmn:incoming>Flow_11zpk89</bpmn:incoming>
        <bpmn:incoming>Flow_0eh8nri</bpmn:incoming>
        <bpmn:outgoing>Flow_0p8nnkb</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_0p8nnkb" sourceRef="Gateway_0kzew52" targetRef="Activity_04f7dsf" />
      <bpmn:sequenceFlow id="Flow_0eh8nri" sourceRef="Event_1y8byuy" targetRef="Gateway_0kzew52" />
      <bpmn:sequenceFlow id="Flow_07ikkpu" sourceRef="Activity_04f7dsf" targetRef="Event_0o3spg1" />
      <bpmn:subProcess id="Activity_04f7dsf" name="Call Postgres Stored Procedure">
        <bpmn:incoming>Flow_0p8nnkb</bpmn:incoming>
        <bpmn:outgoing>Flow_07ikkpu</bpmn:outgoing>
        <bpmn:startEvent id="Event_0ssz9j0">
          <bpmn:outgoing>Flow_0nvm07k</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:endEvent id="Event_1g8fiz2">
          <bpmn:incoming>Flow_0j9rq6r</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:sequenceFlow id="Flow_0nvm07k" sourceRef="Event_0ssz9j0" targetRef="Activity_0rm0qow" />
        <bpmn:sequenceFlow id="Flow_1xjpyq1" sourceRef="Activity_0rm0qow" targetRef="Activity_1bhui1e" />
        <bpmn:scriptTask id="Activity_0rm0qow" name="Set Final Status">
          <bpmn:incoming>Flow_0nvm07k</bpmn:incoming>
          <bpmn:outgoing>Flow_1xjpyq1</bpmn:outgoing>
          <bpmn:script># Set Outcome Status
if last_approval_outcome == "app":
    trvl_details["status"] = "Approved"
elif last_approval_outcome == "rej":
    trvl_details["status"] = "Rejected"
else:
    trvl_details["status"] = "Unknown"

# Add Approver names to Postgres
approver_name_list = list({appr["Greet Name"] for appr in approval_history})
approver_name = ",".join(approver_name_list)
del(approver_name_list)

# Get Process Instance
process_info = get_toplevel_process_info()
process_instance_id = process_info["process_instance_id"]
process_instance_id_str = str(process_instance_id)
del(process_info)</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow id="Flow_17vkkm7" sourceRef="Activity_1bhui1e" targetRef="Activity_1cfpewu" />
        <bpmn:serviceTask id="Activity_1bhui1e" name="Call Details Stored Procedure">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Details Data
requester_name = trvl_details["requestor_greet_name"] + " " + trvl_details["requestor_last_name"]
trvl_data = {"request_id": process_instance_id_str, "status": trvl_details["status"], "requestor_name": requester_name, "project": trvl_details["project_name"], "category": trvl_details["category_name"], "purpose": trvl_details["purpose"], "criticality": trvl_details["criticality"], "period": trvl_details["period"], "core_contributor_id": trvl_details["core_contributor_id"], "core_contributor_name": trvl_details["core_contributor_display"], "start_date": trvl_details["start_date"], "end_date": trvl_details["end_date"], "number_of_days": trvl_details["number_of_days"], "event_type": trvl_details["event_type_name"], "event_name": trvl_details["event_name"], "event_destination": trvl_details["event_destination_display"], "departure_from": trvl_details["departure_from_display"], "return_to": trvl_details["return_to_display"], "total_amount": trvl_details["total_request_amount_usd"], "details": trvl_details["supporting_information"], "approver_name": approver_name, "visa_required": trvl_details["visa_display"] }

# Set Call Store Procedure
call_stored_proc_schema = {
    "sql": "SELECT jsoninsert('demand_request_travel', %s);",
    "values": [trvl_data],
}</spiffworkflow:preScript>
            <spiffworkflow:postScript># Delete Unneeded Data
del(call_stored_proc_schema)
del(requester_name)
del(trvl_data)
del(resp_DetailsDump)</spiffworkflow:postScript>
            <spiffworkflow:serviceTaskOperator id="postgresql/DoSQL" resultVariable="resp_DetailsDump">
              <spiffworkflow:parameters>
                <spiffworkflow:parameter id="database_connection_str" type="str" value="&#34;secret:POSTGRES_CONN&#34;" />
                <spiffworkflow:parameter id="schema" type="any" value="call_stored_proc_schema" />
              </spiffworkflow:parameters>
            </spiffworkflow:serviceTaskOperator>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_1xjpyq1</bpmn:incoming>
          <bpmn:outgoing>Flow_17vkkm7</bpmn:outgoing>
        </bpmn:serviceTask>
        <bpmn:sequenceFlow id="Flow_19x61kv" sourceRef="Activity_1cfpewu" targetRef="Activity_1vu35je" />
        <bpmn:serviceTask id="Activity_1cfpewu" name="Get Details request_id_db">
          <bpmn:extensionElements>
            <spiffworkflow:preScript />
            <spiffworkflow:postScript># Get request_id
details_request_id_cnt = len(resp_SelectValue)
details_request_id_index = details_request_id_cnt - 1
details_request_id = resp_SelectValue[details_request_id_index][0]
del(resp_SelectValue)</spiffworkflow:postScript>
            <spiffworkflow:serviceTaskOperator id="postgresql/SelectValues" resultVariable="resp_SelectValue">
              <spiffworkflow:parameters>
                <spiffworkflow:parameter id="database_connection_str" type="str" value="&#34;secret:POSTGRES_CONN&#34;" />
                <spiffworkflow:parameter id="schema" type="any" value="{&#34;columns&#34;: [&#34;request_id_db&#34;], &#34;where&#34;: [[&#34;request_id&#34;, &#34;=&#34;, process_instance_id_str]]}" />
                <spiffworkflow:parameter id="table_name" type="str" value="&#39;demand_request_travel&#39;" />
              </spiffworkflow:parameters>
            </spiffworkflow:serviceTaskOperator>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_17vkkm7</bpmn:incoming>
          <bpmn:outgoing>Flow_19x61kv</bpmn:outgoing>
        </bpmn:serviceTask>
        <bpmn:sequenceFlow id="Flow_0wquwy1" sourceRef="Activity_1vu35je" targetRef="Gateway_1qq3ak8" />
        <bpmn:serviceTask id="Activity_1vu35je" name="Call Items Stored Procedure">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Item Data
col_names = {"process_instance_id": "request_id", "item_name": "item_name", "item_id": "item_id", "item_url": "item_url", "sub_category_name": "sub_category", "qty": "quantity", "unit_price_num": "unit_price", "currency": "currency", "currency_type": "currency_type", "unit_price_total": "total_amount_currency", "converted_to_unit_price_total": "total_amount_usd", "converted_to_unit_price": "unit_price_usd"}
trvl_item_data_temp = [{col_names[k]: v for k, v in x.items() if k in col_names} for x in trvl_details["item"]]
trvl_item_data = [dict(item, request_id=process_instance_id_str, request_id_db=details_request_id) for item in trvl_item_data_temp]
pd_item_id = len(trvl_item_data) + 1
trvl_item_data.append({"total_amount_usd": trvl_details["meals_cost"], "currency": "USD", "currency_type": "fiat", "item_id": pd_item_id, "item_name": "Per Diem", "request_id": process_instance_id_str, "quantity": trvl_details["number_of_days"], "sub_category": "Meals", "unit_price": 75, "total_amount_currency": trvl_details["meals_cost"], "request_id_db": details_request_id, "unit_price_usd": 75})
del(col_names)
del(trvl_item_data_temp)


call_stored_proc_schema = {
    "sql": "SELECT pp2_jsonarrayinsert_item(%s);",
    "values":  [{ "trvl_item_data": trvl_item_data }],
}</spiffworkflow:preScript>
            <spiffworkflow:postScript># Delete Unneeded Variables
del(call_stored_proc_schema)
del(trvl_item_data)
del(resp_ItemsDump)</spiffworkflow:postScript>
            <spiffworkflow:serviceTaskOperator id="postgresql/DoSQL" resultVariable="resp_ItemsDump">
              <spiffworkflow:parameters>
                <spiffworkflow:parameter id="database_connection_str" type="str" value="&#34;secret:POSTGRES_CONN&#34;" />
                <spiffworkflow:parameter id="schema" type="any" value="call_stored_proc_schema" />
              </spiffworkflow:parameters>
            </spiffworkflow:serviceTaskOperator>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_19x61kv</bpmn:incoming>
          <bpmn:outgoing>Flow_0wquwy1</bpmn:outgoing>
        </bpmn:serviceTask>
        <bpmn:exclusiveGateway id="Gateway_1qq3ak8" name="Supporting Files?" default="Flow_1ky54ip">
          <bpmn:incoming>Flow_0wquwy1</bpmn:incoming>
          <bpmn:outgoing>Flow_1wwho23</bpmn:outgoing>
          <bpmn:outgoing>Flow_1ky54ip</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow id="Flow_1wwho23" name="Yes" sourceRef="Gateway_1qq3ak8" targetRef="Activity_09tc2bo">
          <bpmn:conditionExpression>is_supporting_files</bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:exclusiveGateway id="Gateway_1ke4b96">
          <bpmn:incoming>Flow_0b1bfsh</bpmn:incoming>
          <bpmn:incoming>Flow_1ky54ip</bpmn:incoming>
          <bpmn:outgoing>Flow_0gtenff</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow id="Flow_0gtenff" sourceRef="Gateway_1ke4b96" targetRef="Activity_0x25bx0" />
        <bpmn:sequenceFlow id="Flow_0b1bfsh" sourceRef="Activity_09tc2bo" targetRef="Gateway_1ke4b96" />
        <bpmn:serviceTask id="Activity_09tc2bo" name="Call Files Stored Procedure">
          <bpmn:extensionElements>
            <spiffworkflow:preScript># Set Data Format
trvl_file_data = [{"file_string": x, "request_id": process_instance_id_str, "request_id_db": details_request_id} for x in file_links]

# Store Proc
call_stored_proc_schema = {
    "sql": "SELECT pp2_jsonarrayinsert_files(%s);",
    "values":  [{ "trvl_file_data": trvl_file_data }],
}</spiffworkflow:preScript>
            <spiffworkflow:postScript># Delete Unneeded Variables
del(call_stored_proc_schema)
del(trvl_file_data)</spiffworkflow:postScript>
            <spiffworkflow:serviceTaskOperator id="postgresql/DoSQL" resultVariable="resp_FilesDump">
              <spiffworkflow:parameters>
                <spiffworkflow:parameter id="database_connection_str" type="str" value="&#34;secret:POSTGRES_CONN&#34;" />
                <spiffworkflow:parameter id="schema" type="any" value="call_stored_proc_schema" />
              </spiffworkflow:parameters>
            </spiffworkflow:serviceTaskOperator>
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_1wwho23</bpmn:incoming>
          <bpmn:outgoing>Flow_0b1bfsh</bpmn:outgoing>
        </bpmn:serviceTask>
        <bpmn:sequenceFlow id="Flow_1ky54ip" name="No" sourceRef="Gateway_1qq3ak8" targetRef="Gateway_1ke4b96" />
        <bpmn:sequenceFlow id="Flow_0j9rq6r" sourceRef="Activity_0x25bx0" targetRef="Event_1g8fiz2" />
        <bpmn:scriptTask id="Activity_0x25bx0" name="Delete Unneeded Variables">
          <bpmn:extensionElements>
            <spiffworkflow:instructionsForEndUser />
          </bpmn:extensionElements>
          <bpmn:incoming>Flow_0gtenff</bpmn:incoming>
          <bpmn:outgoing>Flow_0j9rq6r</bpmn:outgoing>
          <bpmn:script># Delete Unneeded Variables
del(process_instance_id_str)
del(is_additional_information)
del(is_approval_rejected)
del(last_approval_outcome)
del(nai_reviewer_comment)
del(review_comment_cnt)
del(reviewer_comment)
del(reviewer_outcome)
del(no_budget_owners_proceed)
del(process_instance_id)
# del(requestor_proceed_option)
del(l1_budget_owner_bamboo_eid)
del(l2_budget_owner_bamboo_eid)
del(details_request_id)
del(details_request_id_cnt)
del(details_request_id_index)
del(requestor_greet_name)
del(n)

if is_supporting_files:
    del(resp_FilesDump)</bpmn:script>
        </bpmn:scriptTask>
      </bpmn:subProcess>
    </bpmn:subProcess>
    <bpmn:task id="Activity_0h7ft7p" name="Waku notification">
      <bpmn:incoming>Flow_1ew5sem</bpmn:incoming>
      <bpmn:outgoing>Flow_17ajueg</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_0ip2pbu" name="Ok?">
      <bpmn:incoming>Flow_14udt27</bpmn:incoming>
      <bpmn:outgoing>Flow_1qq3qyg</bpmn:outgoing>
      <bpmn:outgoing>Flow_1bg71py</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1qq3qyg" name="Yes" sourceRef="Gateway_0ip2pbu" targetRef="Activity_00bqo01" />
    <bpmn:sequenceFlow id="Flow_1bg71py" name="No" sourceRef="Gateway_0ip2pbu" targetRef="Gateway_09pngbv" />
    <bpmn:endEvent id="Event_14e2or3">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser>Process Recap
---
### Approval History 

**Approval Status**: {{ trvl_details["status"] }}


| Reviewer | &lt;div style="width:90px"&gt;Date&lt;div&gt; | &lt;div style="width:65px"&gt;Time&lt;div&gt; | Outcome | Comment |
| ---------- | ------ | ----- | --------- | ----------- |
{% for i in approval_history %}
| {{ i["Approver"] }} | {{ i["Approval Date"] }} | {{ i["Approval Time"] }} | {{ i["Outcome"] }} | {{ i["Comment"] }} |
{% endfor %}

----------
**Requestor**: {{ trvl_details["requestor"] }} 

|  |  | 
| --------------: | -------------------------------- | 
|**Traveller** | {{ trvl_details["core_contributor_display"] }} |
|**Purpose** | {{  trvl_details["purpose"] }} |

| Project | Event Type | Criticality | Event Date | Event Name | Event Destination | Visa required? |
| -------------------------------- | -------------------------------- | -------------------------------- | -------------------------------- | -------------------------------- | -------------------------------- | ----- |
| {{ trvl_details["project_name"] }} |  {{ trvl_details["event_type_name"] }} | {{ trvl_details["criticality"] }} | {{ trvl_details["period_display"] }} | {{ trvl_details["event_name"] }} | {{ trvl_details["event_destination_display"] }} | {{ trvl_details["visa_display"] }} |

----------
### Itinerary

**Departure**: {{ trvl_details["start_date_display"] }} , {{ trvl_details["departure_from_display"] }}

**Return**: {{ trvl_details["end_date_display"] }}, {{ trvl_details["return_to_display"] }}

**Number of days**: {{ trvl_details["number_of_days"] }}

---
### Items  
| Item | Sub-Category | Qty | Currency | Unit Price | Total Price | USD Price | Total USD Price |
| ---- | ----------------- | :---: | :---------: | ----------: | ------------: | -----------: | -----------------: |
| Per diem | Meals | {{ trvl_details["number_of_days"] }} | USD | 75.00 | {{ trvl_details["meals_cost_display"] }} | 75 | {{ trvl_details["meals_cost_display"] }} |
{% for icnt in range(item_list_total) %}
| {% if is_item_url_list[icnt] %}&lt;a href="{{ item_url_list[icnt] }}" target="_blank" &gt;{{ item_name_list[icnt] }}&lt;/a&gt;{% else %}{{ item_name_list[icnt] }}{% endif %} | {{ trvl_details["item"][icnt]["sub_category_name"] }} | {{ trvl_details["item"][icnt]["qty"] }} | {{ trvl_details["item"][icnt]["currency"] }} | {% if trvl_details["item"][icnt]["currency_type"] == "crypto" %}{{ "{:,.4f}".format(trvl_details["item"][icnt]["unit_price_num"]) }}{% else %}{{ "{:,.2f}".format(trvl_details["item"][icnt]["unit_price_num"]) }}{% endif %} | {% if trvl_details["item"][icnt]["currency_type"] == "crypto" %}{{ "{:,.4f}".format(trvl_details["item"][icnt]["unit_price_total"]) }}{% else %}{{ "{:,.2f}".format(trvl_details["item"][icnt]["unit_price_total"]) }}{% endif %} | {{ "{:,.2f}".format(trvl_details["item"][icnt]["converted_to_unit_price"]) }} | {{ "{:,.2f}".format(trvl_details["item"][icnt]["converted_to_unit_price_total"]) }} |
{% endfor %}
----------
### Total Request: {{ "{:,.2f}".format(trvl_details["total_request_amount_usd"]) }} USD**


&lt;sub&gt; *Fiat - Exchange Rates used to calculate the "USD" amounts are under &lt;a href="http://www.xe.com/" target="_blank" &gt;license from Xe&lt;/a&gt;. Please note that if you use this Xe Data, you are obliged to comply with &lt;a href="http://www.xe.com/legal/dfs.php" target="_blank" &gt;Xe's end terms of use&lt;/a&gt;. &lt;sub&gt;

&lt;sub&gt; *Crypto - Exchange Rates used to calculate the "USD" amounts are received from  &lt;a href="https://www.coingecko.com/en/api" target="_blank" &gt;CoinGecko&lt;/a&gt;.&lt;sub&gt;

----------
{% if is_supporting_information %}
### Supporting Information
|  |  | 
| --------------: | -------------------------------- | 
|**More details** | {{ trvl_details["supporting_information"] }} |
  
----------  
{% endif %}

{% if is_supporting_files %}

### Attachments

{% for link in file_links %}
  {{link}}  
{% endfor %}

{% endif %}</spiffworkflow:instructionsForEndUser>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ge8w7r</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:task id="Activity_1el69ef" name="Waku notification to PeopleOps partner and requestor">
      <bpmn:incoming>Flow_1b4y857</bpmn:incoming>
      <bpmn:outgoing>Flow_1ge8w7r</bpmn:outgoing>
    </bpmn:task>
    <bpmn:userTask id="Activity_0cac2ge" name="Review the request">
      <bpmn:incoming>Flow_17ajueg</bpmn:incoming>
      <bpmn:outgoing>Flow_1b4y857</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:textAnnotation id="TextAnnotation_188zjqp">
      <bpmn:text>L2 BO - ? TBD</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0ilh6da" sourceRef="Activity_05ou4v1" targetRef="TextAnnotation_188zjqp" />
    <bpmn:textAnnotation id="TextAnnotation_1w6r6gt">
      <bpmn:text>How to get list of all recruiters?</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_03ckw7s" sourceRef="Activity_0apmo1t" targetRef="TextAnnotation_1w6r6gt" />
    <bpmn:textAnnotation id="TextAnnotation_14s60y4">
      <bpmn:text>create a role PeopleOps (Talent), get the list of the users with this role - select a user</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0sl6uwe" sourceRef="Activity_0apmo1t" targetRef="TextAnnotation_14s60y4" />
    <bpmn:textAnnotation id="TextAnnotation_0q62cfe">
      <bpmn:text>can someone raise the request on behalf of someone else?</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_173lh7z" sourceRef="Activity_1e64lzx" targetRef="TextAnnotation_0q62cfe" />
    <bpmn:textAnnotation id="TextAnnotation_0ukwo1n">
      <bpmn:text>to requestor and Head of PeopleOps partner</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0x055xm" sourceRef="Activity_1dpvgq0" targetRef="TextAnnotation_0ukwo1n" />
    <bpmn:textAnnotation id="TextAnnotation_0sqre85">
      <bpmn:text>TBC</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_05jlt4d" sourceRef="Activity_1vw9byu" targetRef="TextAnnotation_0sqre85" />
    <bpmn:textAnnotation id="TextAnnotation_1mf1j4q">
      <bpmn:text>the job can be published</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1n23ip3" sourceRef="Activity_1el69ef" targetRef="TextAnnotation_1mf1j4q" />
  </bpmn:process>
  <bpmn:escalation id="Escalation_1n374im" name="Need Additional Information" escalationCode="Need_Additional_Information" />
  <bpmn:escalation id="Escalation_00sdiql" name="Approver Rejected" escalationCode="Approver_Rejected" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1q2gp80">
      <bpmndi:BPMNShape id="Participant_1y5mafy_di" bpmnElement="Participant_1y5mafy" isHorizontal="true">
        <dc:Bounds x="165" y="80" width="3215" height="1200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0sn0ht7_di" bpmnElement="Lane_0sn0ht7" isHorizontal="true">
        <dc:Bounds x="195" y="1050" width="3185" height="230" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0y9evi0_di" bpmnElement="Lane_0y9evi0" isHorizontal="true">
        <dc:Bounds x="195" y="810" width="3185" height="240" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_098npnd_di" bpmnElement="Lane_098npnd" isHorizontal="true">
        <dc:Bounds x="195" y="630" width="3185" height="180" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0zrdvut_di" bpmnElement="Lane_0zrdvut" isHorizontal="true">
        <dc:Bounds x="195" y="80" width="3185" height="550" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1bz36qs_di" bpmnElement="Gateway_1bz36qs" isMarkerVisible="true">
        <dc:Bounds x="500" y="325" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ci8c4i_di" bpmnElement="Gateway_1ci8c4i" isMarkerVisible="true">
        <dc:Bounds x="800" y="325" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="797" y="382" width="56" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1v5uip5" bpmnElement="Event_15gc86r">
        <dc:Bounds x="237" y="332" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1lr6j50_di" bpmnElement="Event_1lr6j50">
        <dc:Bounds x="807" y="212" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0dvdlwh_di" bpmnElement="Gateway_0dvdlwh" isMarkerVisible="true">
        <dc:Bounds x="1230" y="325" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1214" y="382" width="86" height="66" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0gpvfm8_di" bpmnElement="Gateway_0gpvfm8" isMarkerVisible="true">
        <dc:Bounds x="1860" y="325" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1854" y="262" width="62" height="53" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0z3562z_di" bpmnElement="Gateway_0z3562z" isMarkerVisible="true">
        <dc:Bounds x="1590" y="325" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0izoloz_di" bpmnElement="Activity_05solt4">
        <dc:Bounds x="925" y="310" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1ndl9ee" bpmnElement="Activity_05ou4v1">
        <dc:Bounds x="1075" y="310" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0owi2r1" bpmnElement="Activity_1vw9byu">
        <dc:Bounds x="1395" y="310" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1wf1309_di" bpmnElement="Activity_0o5rhui">
        <dc:Bounds x="335" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0h05m02_di" bpmnElement="Activity_1e64lzx">
        <dc:Bounds x="615" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1g1x6n0_di" bpmnElement="Activity_1dpvgq0">
        <dc:Bounds x="1695" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qay7jq_di" bpmnElement="Activity_04ium7h">
        <dc:Bounds x="2115" y="880" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0yfzig1_di" bpmnElement="Activity_0apmo1t">
        <dc:Bounds x="1975" y="680" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ub9e58_di" bpmnElement="Activity_0adfss7">
        <dc:Bounds x="2270" y="680" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_09pngbv_di" bpmnElement="Gateway_09pngbv" isMarkerVisible="true">
        <dc:Bounds x="2000" y="895" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0h639cq_di" bpmnElement="Activity_00bqo01">
        <dc:Bounds x="2610" y="680" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0h7ft7p_di" bpmnElement="Activity_0h7ft7p">
        <dc:Bounds x="2780" y="680" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ip2pbu_di" bpmnElement="Gateway_0ip2pbu" isMarkerVisible="true">
        <dc:Bounds x="2465" y="695" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2480" y="665" width="21" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_14e2or3_di" bpmnElement="Event_14e2or3">
        <dc:Bounds x="3282" y="1142" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1el69ef_di" bpmnElement="Activity_1el69ef">
        <dc:Bounds x="3100" y="1120" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0959tw7_di" bpmnElement="Activity_0cac2ge">
        <dc:Bounds x="2910" y="1120" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_188zjqp_di" bpmnElement="TextAnnotation_188zjqp">
        <dc:Bounds x="1065" y="250" width="100" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1w6r6gt_di" bpmnElement="TextAnnotation_1w6r6gt">
        <dc:Bounds x="1810" y="650" width="99.99305040770942" height="40.7709414381023" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_14s60y4_di" bpmnElement="TextAnnotation_14s60y4">
        <dc:Bounds x="1760" y="720" width="149.99800574345883" height="69.55966815571155" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0q62cfe_di" bpmnElement="TextAnnotation_0q62cfe">
        <dc:Bounds x="640" y="210" width="99.99227759472818" height="84.01976935749589" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0ukwo1n_di" bpmnElement="TextAnnotation_0ukwo1n">
        <dc:Bounds x="1680" y="170" width="140" height="40" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0sqre85_di" bpmnElement="TextAnnotation_0sqre85">
        <dc:Bounds x="1490" y="430" width="50" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1mf1j4q_di" bpmnElement="TextAnnotation_1mf1j4q">
        <dc:Bounds x="3190" y="1070" width="100" height="40" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1rpyrgl_di" bpmnElement="Flow_1rpyrgl">
        <di:waypoint x="435" y="350" />
        <di:waypoint x="500" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m414q7_di" bpmnElement="Flow_0m414q7">
        <di:waypoint x="1885" y="375" />
        <di:waypoint x="1885" y="510" />
        <di:waypoint x="525" y="510" />
        <di:waypoint x="525" y="375" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1136" y="483" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_154casc_di" bpmnElement="Flow_154casc">
        <di:waypoint x="550" y="350" />
        <di:waypoint x="615" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gpngr0_di" bpmnElement="Flow_1gpngr0">
        <di:waypoint x="715" y="350" />
        <di:waypoint x="800" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1g8h223_di" bpmnElement="Flow_1g8h223">
        <di:waypoint x="825" y="325" />
        <di:waypoint x="825" y="248" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="836" y="300" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xz0rte_di" bpmnElement="Flow_0xz0rte">
        <di:waypoint x="850" y="350" />
        <di:waypoint x="925" y="350" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="864" y="333" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0eegvtx" bpmnElement="Flow_1awy4f9">
        <di:waypoint x="273" y="350" />
        <di:waypoint x="335" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ieb889_di" bpmnElement="Flow_1ieb889">
        <di:waypoint x="1175" y="350" />
        <di:waypoint x="1230" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dxc4uz_di" bpmnElement="Flow_0dxc4uz">
        <di:waypoint x="1280" y="350" />
        <di:waypoint x="1395" y="350" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1307" y="323" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1r7byc8_di" bpmnElement="Flow_1r7byc8">
        <di:waypoint x="1255" y="325" />
        <di:waypoint x="1255" y="240" />
        <di:waypoint x="1615" y="240" />
        <di:waypoint x="1615" y="325" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1426" y="223" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0idzytl_di" bpmnElement="Flow_0idzytl">
        <di:waypoint x="1795" y="350" />
        <di:waypoint x="1860" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mi1iph_di" bpmnElement="Flow_0mi1iph">
        <di:waypoint x="1910" y="350" />
        <di:waypoint x="2025" y="350" />
        <di:waypoint x="2025" y="680" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2029" y="433" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hb6m2j_di" bpmnElement="Flow_1hb6m2j">
        <di:waypoint x="1495" y="350" />
        <di:waypoint x="1590" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1svj7af_di" bpmnElement="Flow_1svj7af">
        <di:waypoint x="1640" y="350" />
        <di:waypoint x="1695" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nom5oy_di" bpmnElement="Flow_0nom5oy">
        <di:waypoint x="1025" y="350" />
        <di:waypoint x="1075" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ez35ra_di" bpmnElement="Flow_0ez35ra">
        <di:waypoint x="2025" y="760" />
        <di:waypoint x="2025" y="895" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ejzyvh_di" bpmnElement="Flow_0ejzyvh">
        <di:waypoint x="2215" y="920" />
        <di:waypoint x="2320" y="920" />
        <di:waypoint x="2320" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14udt27_di" bpmnElement="Flow_14udt27">
        <di:waypoint x="2370" y="720" />
        <di:waypoint x="2465" y="720" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1b4y857_di" bpmnElement="Flow_1b4y857">
        <di:waypoint x="3010" y="1160" />
        <di:waypoint x="3100" y="1160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ew5sem_di" bpmnElement="Flow_1ew5sem">
        <di:waypoint x="2710" y="720" />
        <di:waypoint x="2780" y="720" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17ajueg_di" bpmnElement="Flow_17ajueg">
        <di:waypoint x="2880" y="720" />
        <di:waypoint x="2960" y="720" />
        <di:waypoint x="2960" y="1120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ge8w7r_di" bpmnElement="Flow_1ge8w7r">
        <di:waypoint x="3200" y="1160" />
        <di:waypoint x="3282" y="1160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cqv4yz_di" bpmnElement="Flow_1cqv4yz">
        <di:waypoint x="2050" y="920" />
        <di:waypoint x="2115" y="920" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qq3qyg_di" bpmnElement="Flow_1qq3qyg">
        <di:waypoint x="2515" y="720" />
        <di:waypoint x="2610" y="720" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2554" y="702" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bg71py_di" bpmnElement="Flow_1bg71py">
        <di:waypoint x="2490" y="745" />
        <di:waypoint x="2490" y="1010" />
        <di:waypoint x="2025" y="1010" />
        <di:waypoint x="2025" y="945" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2250" y="992" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0ilh6da_di" bpmnElement="Association_0ilh6da">
        <di:waypoint x="1120" y="310" />
        <di:waypoint x="1117" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_03ckw7s_di" bpmnElement="Association_03ckw7s">
        <di:waypoint x="1975" y="703" />
        <di:waypoint x="1910" y="682" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0sl6uwe_di" bpmnElement="Association_0sl6uwe">
        <di:waypoint x="1975" y="725" />
        <di:waypoint x="1910" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_173lh7z_di" bpmnElement="Association_173lh7z">
        <di:waypoint x="673" y="310" />
        <di:waypoint x="676" y="294" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0x055xm_di" bpmnElement="Association_0x055xm">
        <di:waypoint x="1745" y="310" />
        <di:waypoint x="1745" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_05jlt4d_di" bpmnElement="Association_05jlt4d">
        <di:waypoint x="1485" y="390" />
        <di:waypoint x="1525" y="430" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1n23ip3_di" bpmnElement="Association_1n23ip3">
        <di:waypoint x="3196" y="1122" />
        <di:waypoint x="3209" y="1110" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_0j5ws9l">
    <bpmndi:BPMNPlane id="BPMNPlane_1dnxj60" bpmnElement="Activity_1dpvgq0">
      <bpmndi:BPMNShape id="Event_161tmxa_di" bpmnElement="Event_161tmxa">
        <dc:Bounds x="372" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0kny3ti_di" bpmnElement="Gateway_0kny3ti" isMarkerVisible="true">
        <dc:Bounds x="485" y="185" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="477" y="242" width="67" height="53" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1g7krxk_di" bpmnElement="Gateway_1g7krxk" isMarkerVisible="true">
        <dc:Bounds x="935" y="185" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_00098md_di" bpmnElement="Activity_17jri7r">
        <dc:Bounds x="770" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16mce85_di" bpmnElement="Activity_1gr4wq2">
        <dc:Bounds x="600" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0f922fv_di" bpmnElement="Activity_19fohul">
        <dc:Bounds x="1070" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0s83pp7_di" bpmnElement="Event_0s83pp7">
        <dc:Bounds x="1262" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_09uui77_di" bpmnElement="Flow_09uui77">
        <di:waypoint x="408" y="210" />
        <di:waypoint x="485" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bkg437_di" bpmnElement="Flow_1bkg437">
        <di:waypoint x="535" y="210" />
        <di:waypoint x="935" y="210" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="728" y="192" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0epa5vy_di" bpmnElement="Flow_0epa5vy">
        <di:waypoint x="510" y="185" />
        <di:waypoint x="510" y="120" />
        <di:waypoint x="600" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="516" y="150" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cablju_di" bpmnElement="Flow_0cablju">
        <di:waypoint x="700" y="120" />
        <di:waypoint x="770" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wlj1lr_di" bpmnElement="Flow_1wlj1lr">
        <di:waypoint x="870" y="120" />
        <di:waypoint x="960" y="120" />
        <di:waypoint x="960" y="185" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1h6i1mp_di" bpmnElement="Flow_1h6i1mp">
        <di:waypoint x="1170" y="210" />
        <di:waypoint x="1262" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ipspcm_di" bpmnElement="Flow_1ipspcm">
        <di:waypoint x="985" y="210" />
        <di:waypoint x="1070" y="210" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_012gf19">
    <bpmndi:BPMNPlane id="BPMNPlane_1cjmhv4" bpmnElement="Activity_00bqo01">
      <bpmndi:BPMNShape id="Event_0ltl0sz_di" bpmnElement="Event_0ltl0sz">
        <dc:Bounds x="392" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0o3spg1_di" bpmnElement="Event_0o3spg1">
        <dc:Bounds x="1022" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1tojcmn_di" bpmnElement="Gateway_1tojcmn" isMarkerVisible="true">
        <dc:Bounds x="495" y="225" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0yn6re6_di" bpmnElement="Event_0yn6re6">
        <dc:Bounds x="612" y="132" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="601" y="175" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1y8byuy_di" bpmnElement="Event_1y8byuy">
        <dc:Bounds x="612" y="232" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="599" y="275" width="62" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0kzew52_di" bpmnElement="Gateway_0kzew52" isMarkerVisible="true">
        <dc:Bounds x="715" y="225" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_00i1w6b_di" bpmnElement="Activity_04f7dsf">
        <dc:Bounds x="830" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1ya9gzv_di" bpmnElement="Flow_1ya9gzv">
        <di:waypoint x="428" y="250" />
        <di:waypoint x="495" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0q3ipnb_di" bpmnElement="Flow_0q3ipnb">
        <di:waypoint x="520" y="225" />
        <di:waypoint x="520" y="150" />
        <di:waypoint x="612" y="150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11zpk89_di" bpmnElement="Flow_11zpk89">
        <di:waypoint x="648" y="150" />
        <di:waypoint x="740" y="150" />
        <di:waypoint x="740" y="225" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13qd471_di" bpmnElement="Flow_13qd471">
        <di:waypoint x="545" y="250" />
        <di:waypoint x="612" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p8nnkb_di" bpmnElement="Flow_0p8nnkb">
        <di:waypoint x="765" y="250" />
        <di:waypoint x="830" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0eh8nri_di" bpmnElement="Flow_0eh8nri">
        <di:waypoint x="648" y="250" />
        <di:waypoint x="715" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07ikkpu_di" bpmnElement="Flow_07ikkpu">
        <di:waypoint x="930" y="250" />
        <di:waypoint x="1022" y="250" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_0dxiexc">
    <bpmndi:BPMNPlane id="BPMNPlane_0jto2zw" bpmnElement="Activity_04f7dsf">
      <bpmndi:BPMNShape id="Event_0ssz9j0_di" bpmnElement="Event_0ssz9j0">
        <dc:Bounds x="192" y="252" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1g8fiz2_di" bpmnElement="Event_1g8fiz2">
        <dc:Bounds x="1602" y="252" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1buydem_di" bpmnElement="Activity_0rm0qow">
        <dc:Bounds x="290" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zg0o0r_di" bpmnElement="Activity_1bhui1e">
        <dc:Bounds x="460" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0joaq7w_di" bpmnElement="Activity_1cfpewu">
        <dc:Bounds x="640" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17tn1ok_di" bpmnElement="Activity_1vu35je">
        <dc:Bounds x="820" y="230" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1qq3ak8_di" bpmnElement="Gateway_1qq3ak8" isMarkerVisible="true">
        <dc:Bounds x="1015" y="245" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="997" y="302" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ke4b96_di" bpmnElement="Gateway_1ke4b96" isMarkerVisible="true">
        <dc:Bounds x="1305" y="245" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0r3op9k_di" bpmnElement="Activity_09tc2bo">
        <dc:Bounds x="1130" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_07ducvk_di" bpmnElement="Activity_0x25bx0">
        <dc:Bounds x="1430" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0nvm07k_di" bpmnElement="Flow_0nvm07k">
        <di:waypoint x="228" y="270" />
        <di:waypoint x="290" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xjpyq1_di" bpmnElement="Flow_1xjpyq1">
        <di:waypoint x="390" y="270" />
        <di:waypoint x="460" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17vkkm7_di" bpmnElement="Flow_17vkkm7">
        <di:waypoint x="560" y="270" />
        <di:waypoint x="640" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19x61kv_di" bpmnElement="Flow_19x61kv">
        <di:waypoint x="740" y="270" />
        <di:waypoint x="820" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wquwy1_di" bpmnElement="Flow_0wquwy1">
        <di:waypoint x="920" y="270" />
        <di:waypoint x="1015" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wwho23_di" bpmnElement="Flow_1wwho23">
        <di:waypoint x="1065" y="270" />
        <di:waypoint x="1130" y="270" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1089" y="252" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gtenff_di" bpmnElement="Flow_0gtenff">
        <di:waypoint x="1355" y="270" />
        <di:waypoint x="1430" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0b1bfsh_di" bpmnElement="Flow_0b1bfsh">
        <di:waypoint x="1230" y="270" />
        <di:waypoint x="1305" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ky54ip_di" bpmnElement="Flow_1ky54ip">
        <di:waypoint x="1040" y="245" />
        <di:waypoint x="1040" y="190" />
        <di:waypoint x="1330" y="190" />
        <di:waypoint x="1330" y="245" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1178" y="172" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j9rq6r_di" bpmnElement="Flow_0j9rq6r">
        <di:waypoint x="1530" y="270" />
        <di:waypoint x="1602" y="270" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1mix4m9">
    <bpmndi:BPMNPlane id="BPMNPlane_1xk620q" bpmnElement="Activity_1e64lzx" label="[object Object]">
      <bpmndi:BPMNShape id="BPMNShape_18ioajq" bpmnElement="Activity_0hvo4b0">
        <dc:Bounds x="140" y="300" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_147sl3h" bpmnElement="Gateway_0inv03y" isMarkerVisible="true">
        <dc:Bounds x="319" y="315" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_08gwfow" bpmnElement="Event_0i4eq27">
        <dc:Bounds x="1342" y="610" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1316" y="651" width="87" height="53" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_162kpqd" bpmnElement="Event_13ueqho">
        <dc:Bounds x="1552" y="482" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1478" y="480" width="64" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0ue8qzy" bpmnElement="Event_0cqzojf">
        <dc:Bounds x="1682" y="322" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1668" y="272" width="64" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_04yq5uq_di" bpmnElement="Event_04yq5uq">
        <dc:Bounds x="32" y="322" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1n7x8l3_di" bpmnElement="Event_1n7x8l3">
        <dc:Bounds x="1902" y="322" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0fpx9dv_di" bpmnElement="Gateway_0fpx9dv" isMarkerVisible="true">
        <dc:Bounds x="1785" y="315" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_02u4quj_di" bpmnElement="Activity_0w08hid">
        <dc:Bounds x="1760" y="588" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_15kie9w" bpmnElement="Activity_0qq1v3z">
        <dc:Bounds x="500" y="300" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1yw0mq1" bpmnElement="Gateway_0ya0v1p" isMarkerVisible="true">
        <dc:Bounds x="705" y="315" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="656" y="296" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1jwx822" bpmnElement="Activity_00z3wwk">
        <dc:Bounds x="830" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1slbyvq" bpmnElement="Activity_0cjtlcn">
        <dc:Bounds x="830" y="300" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0swrxm4" bpmnElement="Activity_1b0myha">
        <dc:Bounds x="1292" y="300" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1r5oxqd" bpmnElement="Gateway_0mgaqm0" isMarkerVisible="true">
        <dc:Bounds x="1017" y="315" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0pdavo8" bpmnElement="Gateway_1w29vwy" isMarkerVisible="true">
        <dc:Bounds x="1117" y="315" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1104" y="285" width="76" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_07qik1r_di" bpmnElement="Activity_1ruqwoy">
        <dc:Bounds x="1092" y="440" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0r845fm" bpmnElement="Activity_1m7vf8b">
        <dc:Bounds x="1490" y="300" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_06yczr1" bpmnElement="Event_0rhsafs">
        <dc:Bounds x="562" y="610" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="488" y="608" width="64" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_067iebs_di" bpmnElement="Gateway_067iebs" isMarkerVisible="true">
        <dc:Bounds x="1545" y="603" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0w8du5u_di" bpmnElement="Event_0w8du5u">
        <dc:Bounds x="412" y="322" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="404" y="286" width="52" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1vh5hxs_di" bpmnElement="TextAnnotation_1vh5hxs">
        <dc:Bounds x="430" y="180" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1ff5ibz_di" bpmnElement="TextAnnotation_1ff5ibz">
        <dc:Bounds x="520" y="140" width="100" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0cm7j6s_di" bpmnElement="TextAnnotation_0cm7j6s">
        <dc:Bounds x="1000" y="150" width="192" height="40" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_05o88i3_di" bpmnElement="TextAnnotation_05o88i3">
        <dc:Bounds x="600" y="210" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_06rl84c_di" bpmnElement="TextAnnotation_06rl84c">
        <dc:Bounds x="640" y="400" width="130" height="35" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0vhxdo8_di" bpmnElement="TextAnnotation_0vhxdo8">
        <dc:Bounds x="370" y="400" width="100" height="55" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0jojlsk_di" bpmnElement="TextAnnotation_0jojlsk">
        <dc:Bounds x="310" y="499" width="160" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_01xv5o2_di" bpmnElement="TextAnnotation_01xv5o2">
        <dc:Bounds x="310" y="570" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1iwj43w_di" bpmnElement="Event_0d7mg1q">
        <dc:Bounds x="1512" y="282" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1488" y="260" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1d6r5ux_di" bpmnElement="Event_17o54mz">
        <dc:Bounds x="1552" y="362" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1531" y="405" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ab52jc_di" bpmnElement="Event_0snfk63">
        <dc:Bounds x="1152" y="502" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1131" y="545" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ooyh7u_di" bpmnElement="Event_1mrg0x6">
        <dc:Bounds x="562" y="362" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="541" y="405" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_041pxn9" bpmnElement="Flow_0fhz1yp">
        <di:waypoint x="240" y="340" />
        <di:waypoint x="319" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13sdhgh_di" bpmnElement="Flow_13sdhgh">
        <di:waypoint x="68" y="340" />
        <di:waypoint x="140" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wixb6f_di" bpmnElement="Flow_1wixb6f">
        <di:waypoint x="1718" y="340" />
        <di:waypoint x="1785" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17xdzln_di" bpmnElement="Flow_17xdzln">
        <di:waypoint x="1835" y="340" />
        <di:waypoint x="1902" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zb8ksl_di" bpmnElement="Flow_0zb8ksl">
        <di:waypoint x="1810" y="588" />
        <di:waypoint x="1810" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1oof3u6" bpmnElement="Flow_0ch4cxy">
        <di:waypoint x="755" y="340" />
        <di:waypoint x="830" y="340" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="785" y="322" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0c5ihq3" bpmnElement="Flow_0op21ag">
        <di:waypoint x="730" y="315" />
        <di:waypoint x="730" y="210" />
        <di:waypoint x="830" y="210" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="736" y="260" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_04g356a" bpmnElement="Flow_1whl6cg">
        <di:waypoint x="1392" y="340" />
        <di:waypoint x="1490" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0i5cqz6" bpmnElement="Flow_19t1udw">
        <di:waypoint x="1142" y="365" />
        <di:waypoint x="1142" y="440" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1116" y="380" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0d28000" bpmnElement="Flow_119j0el">
        <di:waypoint x="930" y="210" />
        <di:waypoint x="1042" y="210" />
        <di:waypoint x="1042" y="315" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1eg2uv0" bpmnElement="Flow_18qe7ut">
        <di:waypoint x="930" y="340" />
        <di:waypoint x="1017" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1kpud6t" bpmnElement="Flow_05hzfur">
        <di:waypoint x="1167" y="340" />
        <di:waypoint x="1292" y="340" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1188" y="322" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0hs3vgy" bpmnElement="Flow_0y8xob6">
        <di:waypoint x="1067" y="340" />
        <di:waypoint x="1117" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dgrlbd_di" bpmnElement="Flow_0dgrlbd">
        <di:waypoint x="369" y="340" />
        <di:waypoint x="412" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e5xai6_di" bpmnElement="Flow_1e5xai6">
        <di:waypoint x="1092" y="480" />
        <di:waypoint x="344" y="480" />
        <di:waypoint x="344" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1uda7lq_di" bpmnElement="Flow_1uda7lq">
        <di:waypoint x="1570" y="398" />
        <di:waypoint x="1570" y="482" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zen0hg_di" bpmnElement="Flow_0zen0hg">
        <di:waypoint x="1170" y="538" />
        <di:waypoint x="1170" y="628" />
        <di:waypoint x="1342" y="628" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wk4ctc_di" bpmnElement="Flow_1wk4ctc">
        <di:waypoint x="1378" y="628" />
        <di:waypoint x="1545" y="628" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1b7wncj_di" bpmnElement="Flow_1b7wncj">
        <di:waypoint x="1570" y="518" />
        <di:waypoint x="1570" y="603" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z8xl4u_di" bpmnElement="Flow_0z8xl4u">
        <di:waypoint x="580" y="398" />
        <di:waypoint x="580" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0l0kxuh_di" bpmnElement="Flow_0l0kxuh">
        <di:waypoint x="580" y="646" />
        <di:waypoint x="580" y="740" />
        <di:waypoint x="1570" y="740" />
        <di:waypoint x="1570" y="653" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18911q5_di" bpmnElement="Flow_18911q5">
        <di:waypoint x="1590" y="340" />
        <di:waypoint x="1682" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xus3om_di" bpmnElement="Flow_0xus3om">
        <di:waypoint x="600" y="340" />
        <di:waypoint x="705" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1w54t94_di" bpmnElement="Flow_1w54t94">
        <di:waypoint x="1530" y="282" />
        <di:waypoint x="1530" y="120" />
        <di:waypoint x="344" y="120" />
        <di:waypoint x="344" y="315" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gs9a10_di" bpmnElement="Flow_0gs9a10">
        <di:waypoint x="1595" y="628" />
        <di:waypoint x="1760" y="628" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sx4un4_di" bpmnElement="Flow_1sx4un4">
        <di:waypoint x="448" y="340" />
        <di:waypoint x="500" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_100uyy1_di" bpmnElement="Association_100uyy1">
        <di:waypoint x="531" y="300" />
        <di:waypoint x="493" y="221" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1gw63te_di" bpmnElement="Association_1gw63te">
        <di:waypoint x="554" y="300" />
        <di:waypoint x="564" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1cij76b_di" bpmnElement="Association_1cij76b">
        <di:waypoint x="930" y="197" />
        <di:waypoint x="1000" y="178" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1wfvvgo_di" bpmnElement="Association_1wfvvgo">
        <di:waypoint x="585" y="300" />
        <di:waypoint x="627" y="251" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0wh4ckx_di" bpmnElement="Association_0wh4ckx">
        <di:waypoint x="600" y="367" />
        <di:waypoint x="662" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0zxoer5_di" bpmnElement="Association_0zxoer5">
        <di:waypoint x="500" y="369" />
        <di:waypoint x="446" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_16g6gz9_di" bpmnElement="Association_16g6gz9">
        <di:waypoint x="520" y="380" />
        <di:waypoint x="431" y="499" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0lbj749_di" bpmnElement="Association_0lbj749">
        <di:waypoint x="519" y="380" />
        <di:waypoint x="372" y="570" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_11elzd1">
    <bpmndi:BPMNPlane id="BPMNPlane_0qq5f04" bpmnElement="Activity_0hvo4b0" label="[object Object]">
      <bpmndi:BPMNShape id="BPMNShape_1df62fr" bpmnElement="Event_1jl5nuj">
        <dc:Bounds x="402" y="472" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_067e2uc" bpmnElement="Gateway_1isv7ud">
        <dc:Bounds x="525" y="465" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0nno8z8" bpmnElement="Gateway_1t884cz">
        <dc:Bounds x="835" y="465" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0gapjqs" bpmnElement="Activity_0wmyrc9">
        <dc:Bounds x="678" y="320" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0e9h4cg" bpmnElement="Activity_0qnslox">
        <dc:Bounds x="678" y="580" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0cgqh09_di" bpmnElement="Event_0cgqh09">
        <dc:Bounds x="1112" y="472" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0g24lui" bpmnElement="Activity_0zp7u0c">
        <dc:Bounds x="950" y="450" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_03zqbr0" bpmnElement="Activity_1nkf8ap">
        <dc:Bounds x="678" y="970" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_09eht7z_di" bpmnElement="Activity_1d9wb5g">
        <dc:Bounds x="1100" y="810" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1galy4l" bpmnElement="Activity_1m37c8d">
        <dc:Bounds x="678" y="450" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_11afw7t" bpmnElement="Activity_0yx3jct">
        <dc:Bounds x="678" y="720" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0y8ig2f" bpmnElement="Activity_1l4smn2">
        <dc:Bounds x="678" y="840" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0tul3dl" bpmnElement="TextAnnotation_12xpps4">
        <dc:Bounds x="670" y="260" width="140" height="26" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1y6yhqk_di" bpmnElement="TextAnnotation_1y6yhqk">
        <dc:Bounds x="1220" y="835" width="100" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_14s9ahr_di" bpmnElement="TextAnnotation_14s9ahr">
        <dc:Bounds x="880" y="310" width="100" height="55" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_15ydtha_di" bpmnElement="TextAnnotation_15ydtha">
        <dc:Bounds x="880" y="710" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0bljl73_di" bpmnElement="TextAnnotation_0bljl73">
        <dc:Bounds x="880" y="890" width="150" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0m29l6w_di" bpmnElement="TextAnnotation_0m29l6w">
        <dc:Bounds x="830" y="1030" width="100" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0ki3646_di" bpmnElement="TextAnnotation_0ki3646">
        <dc:Bounds x="900" y="835" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0ik9n73_di" bpmnElement="TextAnnotation_0ik9n73">
        <dc:Bounds x="950" y="960" width="100" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_1uqi3yk" bpmnElement="Flow_1yboqgc">
        <di:waypoint x="550" y="465" />
        <di:waypoint x="550" y="360" />
        <di:waypoint x="678" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0ch80z2" bpmnElement="Flow_1regjqs">
        <di:waypoint x="550" y="515" />
        <di:waypoint x="550" y="620" />
        <di:waypoint x="678" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0m4apzt" bpmnElement="Flow_0rydcxn">
        <di:waypoint x="778" y="360" />
        <di:waypoint x="860" y="360" />
        <di:waypoint x="860" y="465" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0qfi8jq" bpmnElement="Flow_1ihkyvi">
        <di:waypoint x="778" y="490" />
        <di:waypoint x="835" y="490" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ijiqtp_di" bpmnElement="Flow_0ijiqtp">
        <di:waypoint x="575" y="490" />
        <di:waypoint x="678" y="490" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zaclsu_di" bpmnElement="Flow_0zaclsu">
        <di:waypoint x="778" y="620" />
        <di:waypoint x="860" y="620" />
        <di:waypoint x="860" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m73brt_di" bpmnElement="Flow_1m73brt">
        <di:waypoint x="1050" y="490" />
        <di:waypoint x="1112" y="490" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0n82r7f_di" bpmnElement="Flow_0n82r7f">
        <di:waypoint x="885" y="490" />
        <di:waypoint x="950" y="490" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lvqe7v_di" bpmnElement="Flow_1lvqe7v">
        <di:waypoint x="550" y="515" />
        <di:waypoint x="550" y="1010" />
        <di:waypoint x="678" y="1010" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0h3piq7_di" bpmnElement="Flow_0h3piq7">
        <di:waypoint x="778" y="1010" />
        <di:waypoint x="860" y="1010" />
        <di:waypoint x="860" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rt9rpn_di" bpmnElement="Flow_0rt9rpn">
        <di:waypoint x="438" y="490" />
        <di:waypoint x="525" y="490" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0org7jx_di" bpmnElement="Flow_0org7jx">
        <di:waypoint x="550" y="515" />
        <di:waypoint x="550" y="760" />
        <di:waypoint x="678" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dcxvqq_di" bpmnElement="Flow_1dcxvqq">
        <di:waypoint x="778" y="760" />
        <di:waypoint x="860" y="760" />
        <di:waypoint x="860" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e8hadk_di" bpmnElement="Flow_1e8hadk">
        <di:waypoint x="550" y="515" />
        <di:waypoint x="550" y="880" />
        <di:waypoint x="678" y="880" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18n2gwv_di" bpmnElement="Flow_18n2gwv">
        <di:waypoint x="778" y="880" />
        <di:waypoint x="860" y="880" />
        <di:waypoint x="860" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_13id5yq" bpmnElement="Association_1xjz4dg">
        <di:waypoint x="738" y="286" />
        <di:waypoint x="733" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_08748uw_di" bpmnElement="Association_08748uw">
        <di:waypoint x="1200" y="851" />
        <di:waypoint x="1220" y="850" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0lar293_di" bpmnElement="Association_0lar293">
        <di:waypoint x="778" y="351" />
        <di:waypoint x="880" y="334" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1rrh0x7_di" bpmnElement="Association_1rrh0x7">
        <di:waypoint x="778" y="751" />
        <di:waypoint x="880" y="734" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1yp9m84_di" bpmnElement="Association_1yp9m84">
        <di:waypoint x="778" y="886" />
        <di:waypoint x="880" y="899" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1yhba4x_di" bpmnElement="Association_1yhba4x">
        <di:waypoint x="778" y="1022" />
        <di:waypoint x="830" y="1033" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0i97f34_di" bpmnElement="Association_0i97f34">
        <di:waypoint x="778" y="873" />
        <di:waypoint x="900" y="857" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0ekghho_di" bpmnElement="Association_0ekghho">
        <di:waypoint x="778" y="897" />
        <di:waypoint x="957" y="960" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_06is0ae">
    <bpmndi:BPMNPlane id="BPMNPlane_09dek3r" bpmnElement="Activity_0o5rhui">
      <bpmndi:BPMNShape id="BPMNShape_02d2dct" bpmnElement="Activity_0qz7ws8">
        <dc:Bounds x="590" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0usinvv_di" bpmnElement="Event_0usinvv">
        <dc:Bounds x="482" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05ixsk4_di" bpmnElement="Activity_0b2sysj">
        <dc:Bounds x="780" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1w945s1_di" bpmnElement="Event_1w945s1">
        <dc:Bounds x="972" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0c9yzka_di" bpmnElement="Flow_0c9yzka">
        <di:waypoint x="690" y="250" />
        <di:waypoint x="780" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1n7gshu_di" bpmnElement="Flow_1n7gshu">
        <di:waypoint x="880" y="250" />
        <di:waypoint x="972" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1k6ur0k_di" bpmnElement="Flow_1k6ur0k">
        <di:waypoint x="518" y="250" />
        <di:waypoint x="590" y="250" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_0drfg6s">
    <bpmndi:BPMNPlane id="BPMNPlane_1gjdt3r" bpmnElement="Activity_1b0myha">
      <bpmndi:BPMNShape id="BPMNShape_0c3d2j6" bpmnElement="Activity_1km8pud">
        <dc:Bounds x="1020" y="238" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1d4i84i" bpmnElement="Activity_0xgvrdh">
        <dc:Bounds x="298" y="308" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0zv32y9" bpmnElement="Activity_0gcnfya">
        <dc:Bounds x="1460" y="308" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0vc8kmh" bpmnElement="Event_0uyh2yh">
        <dc:Bounds x="180" y="330" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_156g8x6" bpmnElement="Gateway_1tg7bl9" isMarkerVisible="true">
        <dc:Bounds x="1813" y="323" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1808" y="380" width="62" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1wldvve" bpmnElement="Gateway_1hwlsey" isMarkerVisible="true">
        <dc:Bounds x="443" y="323" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_13jnco1" bpmnElement="Activity_1o2v25j">
        <dc:Bounds x="728" y="308" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1xreg2g" bpmnElement="Activity_0x4fprm">
        <dc:Bounds x="2170" y="308" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1aw65ef" bpmnElement="Gateway_1obo9xe" isMarkerVisible="true">
        <dc:Bounds x="913" y="323" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="842" y="361" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1cted59" bpmnElement="Gateway_1v46hic" isMarkerVisible="true">
        <dc:Bounds x="1175" y="323" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_15c0e4o" bpmnElement="Activity_059iol0">
        <dc:Bounds x="1020" y="378" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_03x5v3f" bpmnElement="Activity_1w5mdib">
        <dc:Bounds x="1630" y="308" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_00510mg" bpmnElement="Activity_1jlbos5">
        <dc:Bounds x="1290" y="308" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1btrzcd" bpmnElement="Event_0ffijf1">
        <dc:Bounds x="2392" y="330" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0v9qzpf" bpmnElement="Activity_00v6em6">
        <dc:Bounds x="1970" y="308" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1en6ln3_di" bpmnElement="Activity_0fn44oi">
        <dc:Bounds x="550" y="308" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_105cpgx" bpmnElement="Flow_0oj2rzg">
        <di:waypoint x="938" y="323" />
        <di:waypoint x="938" y="278" />
        <di:waypoint x="1020" y="278" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="969" y="260" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1jagpw0" bpmnElement="Flow_0yzymjg">
        <di:waypoint x="1120" y="278" />
        <di:waypoint x="1200" y="278" />
        <di:waypoint x="1200" y="323" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0ye7tld" bpmnElement="Flow_04gxo4i">
        <di:waypoint x="216" y="348" />
        <di:waypoint x="298" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_15cj9xg" bpmnElement="Flow_0e95pd0">
        <di:waypoint x="398" y="348" />
        <di:waypoint x="443" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0vv51o9" bpmnElement="Flow_11jp113">
        <di:waypoint x="1390" y="348" />
        <di:waypoint x="1460" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_174co9q" bpmnElement="Flow_1s5j2un">
        <di:waypoint x="1560" y="348" />
        <di:waypoint x="1630" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1eoax6k" bpmnElement="Flow_1fr8h2a">
        <di:waypoint x="1730" y="348" />
        <di:waypoint x="1813" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_01ht7s3" bpmnElement="Flow_03hk9xl">
        <di:waypoint x="1863" y="348" />
        <di:waypoint x="1970" y="348" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1873" y="330" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0grgia7" bpmnElement="Flow_0wmxs2e">
        <di:waypoint x="1838" y="323" />
        <di:waypoint x="1838" y="178" />
        <di:waypoint x="468" y="178" />
        <di:waypoint x="468" y="323" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="980" y="160" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_09br3jw" bpmnElement="Flow_1c12pyi">
        <di:waypoint x="828" y="348" />
        <di:waypoint x="913" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0wj4b81" bpmnElement="Flow_11bg9z9">
        <di:waypoint x="2070" y="348" />
        <di:waypoint x="2170" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1op77zr" bpmnElement="Flow_077coya">
        <di:waypoint x="2270" y="348" />
        <di:waypoint x="2392" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_05ax7al" bpmnElement="Flow_0y3b16d">
        <di:waypoint x="938" y="373" />
        <di:waypoint x="938" y="418" />
        <di:waypoint x="1020" y="418" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="962" y="401" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1so6j45" bpmnElement="Flow_1gdgdff">
        <di:waypoint x="1120" y="418" />
        <di:waypoint x="1200" y="418" />
        <di:waypoint x="1200" y="373" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_00xhxm8" bpmnElement="Flow_0mj9wyr">
        <di:waypoint x="1225" y="348" />
        <di:waypoint x="1290" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r6exl3_di" bpmnElement="Flow_0r6exl3">
        <di:waypoint x="493" y="348" />
        <di:waypoint x="550" y="348" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08d1pda_di" bpmnElement="Flow_08d1pda">
        <di:waypoint x="650" y="348" />
        <di:waypoint x="728" y="348" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_08gz6m9">
    <bpmndi:BPMNPlane id="BPMNPlane_01vtewg" bpmnElement="Activity_04ium7h">
      <bpmndi:BPMNShape id="Event_0kquy9q_di" bpmnElement="Event_0kquy9q">
        <dc:Bounds x="12" y="302" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1l0qvk3_di" bpmnElement="Activity_1j5okve">
        <dc:Bounds x="700" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_03bnppy_di" bpmnElement="Event_03bnppy">
        <dc:Bounds x="1062" y="302" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0uzmlil_di" bpmnElement="Activity_0uzmlil">
        <dc:Bounds x="880" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1s758hl_di" bpmnElement="Activity_0d3s2kw">
        <dc:Bounds x="330" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0bgdns5_di" bpmnElement="Activity_13hgfan">
        <dc:Bounds x="520" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1v3ekmx_di" bpmnElement="Activity_1qqxh4i">
        <dc:Bounds x="140" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0taljqg_di" bpmnElement="TextAnnotation_0taljqg">
        <dc:Bounds x="360" y="190" width="100" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0capaop_di" bpmnElement="TextAnnotation_0capaop">
        <dc:Bounds x="520" y="190" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1f7d16m_di" bpmnElement="TextAnnotation_1f7d16m">
        <dc:Bounds x="730" y="196" width="100" height="55" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1fqp2p7_di" bpmnElement="TextAnnotation_1fqp2p7">
        <dc:Bounds x="140" y="196" width="100" height="55" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_062233f_di" bpmnElement="Flow_062233f">
        <di:waypoint x="48" y="320" />
        <di:waypoint x="140" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m61kxf_di" bpmnElement="Flow_0m61kxf">
        <di:waypoint x="430" y="320" />
        <di:waypoint x="520" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g2pd95_di" bpmnElement="Flow_0g2pd95">
        <di:waypoint x="620" y="320" />
        <di:waypoint x="700" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04lznc6_di" bpmnElement="Flow_04lznc6">
        <di:waypoint x="800" y="320" />
        <di:waypoint x="880" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06m0ary_di" bpmnElement="Flow_06m0ary">
        <di:waypoint x="980" y="320" />
        <di:waypoint x="1062" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07xnd9q_di" bpmnElement="Flow_07xnd9q">
        <di:waypoint x="240" y="320" />
        <di:waypoint x="330" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0lo7r43_di" bpmnElement="Association_0lo7r43">
        <di:waypoint x="390" y="280" />
        <di:waypoint x="396" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0r9l1nr_di" bpmnElement="Association_0r9l1nr">
        <di:waypoint x="570" y="280" />
        <di:waypoint x="570" y="231" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1ajzrot_di" bpmnElement="Association_1ajzrot">
        <di:waypoint x="761" y="280" />
        <di:waypoint x="769" y="251" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1vd46sr_di" bpmnElement="Association_1vd46sr">
        <di:waypoint x="190" y="280" />
        <di:waypoint x="190" y="251" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1uepjcx">
    <bpmndi:BPMNPlane id="BPMNPlane_1pf8itm" bpmnElement="Activity_0apmo1t">
      <bpmndi:BPMNShape id="Event_0fc60tr_di" bpmnElement="Event_0fc60tr">
        <dc:Bounds x="132" y="262" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1k5pgan_di" bpmnElement="Activity_139hw92">
        <dc:Bounds x="220" y="240" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ej8kdg_di" bpmnElement="Activity_0ofxzeu">
        <dc:Bounds x="390" y="240" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02iwg86_di" bpmnElement="Event_02iwg86">
        <dc:Bounds x="742" y="262" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0n9gw3w_di" bpmnElement="Activity_0n9gw3w">
        <dc:Bounds x="570" y="240" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0td3lsi_di" bpmnElement="Flow_0td3lsi">
        <di:waypoint x="168" y="280" />
        <di:waypoint x="220" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g7z4ew_di" bpmnElement="Flow_0g7z4ew">
        <di:waypoint x="320" y="280" />
        <di:waypoint x="390" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xvdncl_di" bpmnElement="Flow_1xvdncl">
        <di:waypoint x="490" y="280" />
        <di:waypoint x="570" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11bn803_di" bpmnElement="Flow_11bn803">
        <di:waypoint x="670" y="280" />
        <di:waypoint x="742" y="280" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
